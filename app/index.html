<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
    <meta name="theme-color" content="#2563eb" />
    <title>VocabMaster - æ¯æ—¥å–®å­— (å…å®‰è£ç‰ˆ)</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    
    <!-- React & ReactDOM (Development versions for better errors, switch to production for speed) -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel for in-browser JSX compilation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
      body {
        font-family: 'Roboto', 'Noto Sans TC', sans-serif;
        background-color: #f3f4f6;
        overscroll-behavior-y: none;
      }
      .card-flip { perspective: 1000px; }
      .card-inner {
        position: relative;
        width: 100%;
        height: 100%;
        text-align: center;
        transition: transform 0.6s;
        transform-style: preserve-3d;
      }
      .card-flip.flipped .card-inner { transform: rotateY(180deg); }
      .card-front, .card-back {
        position: absolute;
        width: 100%;
        height: 100%;
        -webkit-backface-visibility: hidden;
        backface-visibility: hidden;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        border-radius: 1rem;
      }
      .card-back { transform: rotateY(180deg); }
      
      /* Animation */
      @keyframes fadeInDown {
        from { opacity: 0; transform: translate3d(0, -20px, 0); }
        to { opacity: 1; transform: translate3d(0, 0, 0); }
      }
      .animate-fade-in-down { animation: fadeInDown 0.3s ease-in; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo, useRef } = React;

        // --- TYPES & CONSTANTS (Converted from TS) ---
        const WORDS_PER_LESSON = 6;
        
        const AppState = {
            DASHBOARD: 'DASHBOARD',
            COURSES: 'COURSES',
            SETTINGS: 'SETTINGS',
            SESSION: 'SESSION',
            SUMMARY: 'SUMMARY'
        };

        const TaskType = {
            LEARN: 'LEARN',
            CHOICE: 'CHOICE',
            ASSEMBLE: 'ASSEMBLE',
            SCRAMBLE: 'SCRAMBLE',
            MATCH: 'MATCH',
            SPELL: 'SPELL'
        };

        // --- DATA (Converted from data.ts) ---
        const rawText = `
abandon v. éºæ£„ï¼›æ”¾æ£„
abnormal adj. ä¸æ­£å¸¸çš„ï¼›åå¸¸çš„ï¼›è®Šæ…‹çš„
aboard adv. åœ¨èˆ¹ï¼ˆé£›æ©Ÿã€è»Šç­‰ï¼‰ä¸Š
absolute adj. ç¢ºå¯¦çš„ï¼›åè¶³çš„ï¼›çµ•å°çš„
absorb v. å¸æ”¶ï¼›ä½¿å…¨ç¥è²«æ³¨
abstract adj. æŠ½è±¡çš„
abuse v. æ¿«ç”¨ï¼›å¦„ç”¨
academic adj. å­¸è¡“æ€§çš„ï¼›æ•™å­¸ä¸Šçš„
accent n. å£éŸ³ï¼›é‡éŸ³
access n. é€²å…¥ï¼›å…¥å£ï¼›å–å¾—çš„æ–¹æ³•
accommodation n. ä½æ‰€ï¼›è†³å®¿
accomplish v. å®Œæˆï¼›é”åˆ°
accord v. ä¸€è‡´ï¼›ç¬¦åˆ
accurate adj. æº–ç¢ºçš„ï¼›ç²¾æº–çš„
accuse v. æŒ‡æ§ï¼›æ­ç™¼
accustomed adj. ç¿’æ…£æ–¼â€¦â€¦çš„ï¼›æ…£å¸¸çš„
achievement n. æˆå°±ï¼›æˆç¸¾
acid n. é…¸ï¼›é…¸é¡
acquire v. å–å¾—ï¼›æŒæ¡ï¼›ç²å¾—
adequate adj. é©ç•¶çš„ï¼›è¶³å¤ çš„
adjust v. èª¿æ•´ï¼›èª¿ç¯€
aggressive adj. æ”»æ“Šçš„ï¼›ä¾µç•¥çš„ï¼›æŒ‘é‡çš„
agriculture n. è¾²æ¥­ï¼›è¾²å­¸
alcoholic n. é…—é…’è€…
alert n. è­¦æˆ’ï¼›è­¦å ±
alternative n. é¸æ“‡ï¼›å¯ä¾›é¸æ“‡çš„äº‹ç‰©
amateur adj. æ¥­é¤˜çš„ï¼›éè·æ¥­çš„
ambassador n. å¤§ä½¿
amusement n. å¨›æ¨‚ï¼›æ¶ˆé£
analyze v. åˆ†æï¼›è§£æ
ambition n. æŠ±è² ï¼›é‡å¿ƒ
angle n. è§’åº¦ï¼›çœ‹æ³•
anniversary n. é€±å¹´ç´€å¿µï¼ˆæ—¥ï¼‰
announce v. å®£ä½ˆï¼›ç™¼è¡¨
annoy v. ç…©æ“¾ï¼›æƒ¹æƒ±
anxiety n. ç„¦æ…®ï¼›æ›å¿µ
apology n. èªéŒ¯ï¼›é“æ­‰
apparently adv. é¡¯ç„¶åœ°ï¼›ä¼¼ä¹
appeal v. æ‡‡è«‹ï¼›å°ï¼ˆæŸäººï¼‰æœ‰å¸å¼•åŠ›
appetite n. é£Ÿæ…¾ï¼›èƒƒå£ï¼›æ…¾æœ›
applause n. ç†±çƒˆè®šè³ï¼›é¼“æŒï¼›å–é‡‡
application n. ç”³è«‹ï¼ˆæ›¸ï¼‰ï¼›æ‡‰ç”¨
appointment n. æŒ‡å®šï¼›ç´„å®š
appreciation n. æ¬£è³ï¼›è©•åƒ¹ï¼›æ„Ÿæ¿€
appropriate adj. æ°ç•¶çš„ï¼›åˆé©çš„
arise v. ç™¼ç”Ÿï¼›ç”¢ç”Ÿï¼›å‡ºç¾
artificial adj. äººé€ çš„ï¼›å‡çš„
ascend v. æ”€ç™»ï¼›ä¸Šå‡ï¼›å‡èµ·
ashamed adj. æ„Ÿåˆ°ç¾æ¥çš„ï¼›è¦ºå¾—æ…šæ„§çš„
assassinate v. è¡Œåˆºï¼›æš—æ®º
assemble v. èšé›†ï¼›é›†åˆï¼›è£é…
associate v. ç”±â€¦â€¦è¯æƒ³åˆ°â€¦â€¦ï¼›ä½¿è¯åˆ
astonish v. ä½¿éœ‡é©šï¼›ä½¿é©šåš‡
attach v. é™„è‘—ï¼›ç¹«ä¸Š
attempt v. å˜—è©¦ï¼›ä¼åœ–
attitude n. æ…‹åº¦ï¼›çœ‹æ³•ï¼›å§¿å‹¢
authority n. æ¬Šå¨ï¼›æ¬Šé™ï¼›è·æ¬Šï¼›ç•¶å±€
average v. å°‡â€¦â€¦å¹³å‡åˆ†é…ï¼›å¹³å‡ç‚º
awful adj. å¯æ€•çš„ï¼›ä»¤äººæ•¬ç•çš„ï¼›æ¥µå£çš„
awkward adj. å°·å°¬çš„ï¼›æ£˜æ‰‹çš„
babysit v. ç•¶è‡¨æ™‚ä¿å§†
background n. èƒŒæ™¯ï¼›å¹•å¾Œ
baggage n. è¡Œæ
balance n. å¹³è¡¡ï¼›å”èª¿
bankrupt adj. ç ´ç”¢çš„
bargain n. ç‰¹åƒ¹å•†å“ï¼›äº¤æ˜“
barrier n. éšœç¤™ç‰©ï¼›é˜»ç¤™
battle n. æˆ°é¬¥ï¼›æˆ°å½¹
beg v. ä¹è¨ï¼›è«‹æ±‚ï¼›ï¼ˆç‹—ï¼‰è¹²åèˆ‰å‰è…³æ–¼èƒ¸å‰
behavior n. è¡Œç‚ºï¼›èˆ‰æ­¢
believable adj. å¯ä¿¡çš„
beneath prep. åœ¨â€¦â€¦ä¹‹ä¸‹
benefit n. å¥½è™•ï¼›åˆ©ç›Š
blend v. æ··åˆï¼›èª¿å’Œ
blessing n. å¹¸é‹çš„äº‹ï¼›ä¸Šå¸çš„æ©è³œ
bold adj. ç„¡ç•çš„
bond n. ç¶­ç¹«ï¼›çµåˆ
border n. é‚Šç•Œï¼›åœ‹ç•Œ
boycott n. è¯åˆæŠµåˆ¶ï¼›æ¯è‘›
bracelet n. æ‰‹é²ï¼›æ‰‹éŠ
bravery n. å‹‡æ°£
breathe v. å‘¼å¸
breeze n. å¾®é¢¨
bribe v. å‘â€¦â€¦è¡Œè³„ï¼›æ”¶è²·
brilliant adj. å„ªç§€çš„ï¼›å‚‘å‡ºçš„
browse v. éš¨æ„è§€çœ‹ï¼›ç€è¦½
brutal adj. æ®˜å¿çš„ï¼›åš´é…·çš„
budget n. é ç®—ï¼›ç¶“è²»
bulletin n. å…¬å‘Šï¼›å‘Šç¤º
burden n. è² æ“”
calculator n. è¨ˆç®—æ©Ÿ
campaign n. å®£å‚³æ´»å‹•ï¼›è»äº‹è¡Œå‹•
capable adj. æœ‰èƒ½åŠ›çš„ï¼›èƒ½â€¦â€¦çš„
capacity n. å®¹é‡ï¼›èƒ½åŠ›
capital n. é¦–éƒ½ï¼›å¤§å¯«
capture v. é€®æ•ï¼›ä¿˜è™œ
carriage n. è»Šå»‚ï¼›é¦¬è»Š
casual adj. éš¨ä¾¿çš„ï¼›æ¼«ä¸ç¶“å¿ƒçš„ï¼›å¶ç„¶çš„
catalog n. ç›®éŒ„
cease v. åœæ­¢ï¼›çµ‚æ­¢
ceremony n. å…¸ç¦®ï¼›å„€å¼
certificate n. è­‰æ˜ï¼›æ–‡æ†‘
challenge n. æŒ‘æˆ°
characteristic n. ç‰¹è‰²ï¼›ç‰¹å¾µ
cherish v. çæ„›ï¼›é¾æ„›
cigarette n. é¦™è¸
cinema n. é›»å½±é™¢
circumstance n. æƒ…æ³ï¼›ç’°å¢ƒ
circus n. é¦¬æˆ²åœ˜ï¼›é¦¬æˆ²è¡¨æ¼”
classify v. å°‡â€¦â€¦åˆ†é¡ï¼›å°‡â€¦â€¦åˆ†ç­‰ç´š
climax n. é«˜æ½®ï¼›é ‚é»
clumsy adj. ä¸éˆå·§çš„ï¼›å‹•ä½œç¬¨æ‹™çš„
coincidence n. å·§åˆï¼›åŒæ™‚ç™¼ç”Ÿ
collapse v. å€’å¡Œï¼›å´©æ½°
combination n. çµ„åˆï¼›è¯åˆ
communication n. é€šè¨Šï¼›é€£çµ¡
compete v. ç«¶çˆ­ï¼›æ¯”è³½
complaint n. æŠ±æ€¨ï¼›ç”³è¨´
complicate v. ä½¿â€¦â€¦è¤‡é›œåŒ–
compliment n. æ­ç¶­ï¼›è®šæš
concentrate v. é›†ä¸­æ³¨æ„åŠ›ï¼›å…¨ç¥è²«æ³¨
concept n. è§€å¿µï¼›æ¦‚å¿µ
conclude v. æ–·å®šï¼›æ¨è«–å‡º
condition n. ï¼ˆå¥åº·ï¼‰ç‹€æ³ï¼›åœ°ä½
conference n. æœƒè­°ï¼›è¨è«–æœƒ
confess v. å¦ç™½ï¼›æ‰¿èª
conquer v. å¾æœï¼›æ“Šæ•—
consequence n. çµæœï¼›å¾Œæœ
consist v. ç”±â€¦â€¦çµ„æˆï¼›æ§‹æˆ
constant adj. ä¸æ–·çš„ï¼›é€£çºŒç™¼ç”Ÿçš„
construction n. å»ºç¯‰å·¥ç¨‹ï¼›å»ºè¨­
content adj. æ»¿è¶³çš„ï¼›æ»¿æ„çš„
contest n. æ¯”è³½ï¼›ç«¶çˆ­
contrary adj. ç›¸åçš„ï¼›å°ç«‹çš„
contribute v. è²¢ç»ï¼›æåŠ©
convey v. è¡¨é”ï¼›å‚³é€
convince v. èªªæœï¼›ä½¿ä¿¡æœ
cooperate v. åˆä½œï¼›é…åˆ
correspond v. é€šä¿¡ï¼›ç›¸ç¬¦ï¼›ä¸€è‡´
counter n. æ«ƒæª¯ï¼›é•·æ¡Œ
courageous adj. è‹±å‹‡çš„ï¼›å‹‡æ•¢çš„
coward n. æ‡¦å¤«ï¼›è†½å°é¬¼
cram v. åŒ†ä¿ƒæº–å‚™æ‡‰è€ƒ
crash v. çŒ›æ’ï¼›æ’æ¯€
creature n. ç”Ÿç‰©ï¼›å‹•ç‰©
criticize v. æ‰¹è©•ï¼›è‹›æ±‚
cue v. æš—ç¤ºï¼›æç¤º
curiosity n. å¥½å¥‡å¿ƒï¼›æ±‚çŸ¥æ…¾
curl n. é«®é«»ï¼›æ²æ›²
curse v. è©›å’’ï¼›è‡­ç½µ
damn n. çµ²æ¯«ï¼›äº›å¾®
dare v. æ•¢æ–¼ï¼›æ¿€ï¼ˆæŸäººï¼‰
decade n. åå¹´
deceive v. æ¬ºé¨™ï¼›çŸ‡è”½
declare v. å®£ä½ˆï¼›è²æ˜
decline v. å©‰æ‹’ï¼›å›çµ•
defensive adj. é˜²è¡›çš„ï¼›è‡ªè¡›çš„
deficit n. èµ¤å­—ï¼›è™§æé¡
definition n. å®šç¾©ï¼›é‡‹ç¾©
delete v. åˆªé™¤ï¼›æ¶ˆæ‰
delicate adj. æ˜“ç¢çš„ï¼›ç²¾å·§çš„
delight v. ä½¿é«˜èˆˆï¼›ä½¿å¿«æ¨‚
demand v. è¦æ±‚ï¼›è«‹æ±‚
demonstrate v. ç¤ºç¯„ï¼›è­‰æ˜
depart v. å•Ÿç¨‹ï¼›å‡ºç™¼
departure n. é›¢é–‹ï¼›å‡ºç™¼
depress v. ä½¿æ²®å–ªï¼›ä½¿æ¶ˆæ²ˆ
deserve v. æ‡‰å—ï¼›æ‡‰å¾—
despair n. çµ•æœ›ï¼›å¤±å»ä¿¡å¿ƒ
desperate adj. çµ•æœ›çš„ï¼›ä¸é¡§ä¸€åˆ‡çš„
destination n. ç›®çš„åœ°ï¼›çµ‚é»
device n. è£ç½®ï¼›è¨­å‚™
devil n. é­”é¬¼ï¼›æƒ¡é­”
devote v. å°‡â€¦â€¦å¥‰ç»çµ¦æŸäº‹ï¼ˆäººï¼‰ï¼›è‡´åŠ›æ–¼â€¦â€¦
dialogue n. å°ç™½ï¼›å°è©±
dictation n. è½å¯«æ¸¬é©—ï¼›å£è¿°
dignity n. å°Šåš´ï¼›èŠåš´
dip v. æ²¾ï¼›æµ¸
diploma n. å­¸ä½è­‰æ›¸ï¼›ç•¢æ¥­æ–‡æ†‘
disappoint v. ä½¿äººå¤±æœ›ï¼›ä½¿æŒ«æŠ˜
disadvantage n. ä¸åˆ©æ¢ä»¶ï¼›æå¤±
disapprove v. ä¸è´ŠåŒï¼›ä¸å–œæ­¡
disaster n. ç½å®³ï¼›ä¸å¹¸
discipline n. ç®¡æ•™ï¼›æ‡²ç½°
discount n. æŠ˜æ‰£
disguise v. å½è£ï¼›å‡æ‰®
display v. é™³åˆ—ï¼›å±•ç¤º
dissatisfaction n. ä¸æ»¿ï¼›ä¸å¹³
distinguish v. å€åˆ¥ï¼›è­˜åˆ¥
distribution n. åˆ†é…ï¼›åˆ†ç™¼
ditch v. æ‹‹æ£„ï¼ˆä¿šèªç”¨æ³•ï¼‰ï¼›æŒ–æ°´æº
divine adj. æ¥µå¥½çš„ï¼ˆå£èªç”¨æ³•ï¼‰ï¼›ç¥çš„
divorce n. é›¢å©š
dominate v. æ”¯é…ï¼›çµ±æ²»
donate v. æç»ï¼›æè´ˆ
dormitory = dorm n. å®¿èˆ
dose n. ï¼ˆè—¥ç‰©çš„ï¼‰ä¸€åŠ‘ï¼›ä¸€æœ
downwards adv. å‘ä¸‹
doze v. æ‰“çŒç¡ï¼›æ‰“ç›¹
dramatic adj. æˆ²åŠ‡çš„ï¼›æˆ²åŠ‡åŒ–çš„
dreadful adj. ç³Ÿç³•çš„ï¼›ä»¤äººææ‡¼çš„
drill n. é‘½å­ï¼›ç·´ç¿’
drowsy adj. ä½¿äººæ˜æ˜æ¬²ç¡çš„ï¼›çå€¦çš„
due adj. åˆ°æœŸçš„ï¼›ç”±æŸäººï¼ˆäº‹ï¼‰å¼•èµ·çš„
dull adj. å–®èª¿çš„ï¼›ä¹å‘³çš„
dump v. å‚¾å€’ï¼›æ‹‹æ£„
durable adj. æŒä¹…çš„ï¼›è€ç”¨çš„
dye v. æŸ“è‰²
dynamic adj. æœ‰æ´»åŠ›çš„ï¼›æœ‰ç”Ÿæ°£çš„
dynasty n. æœä»£
eager adj. æ¸´æœ›çš„ï¼›æ€¥åˆ‡çš„
earnest adj. èªçœŸçš„ï¼›èª æ‘¯çš„ï¼›ç†±å¿ƒçš„
economy n. ç¶“æ¿Ÿï¼›ç¶“æ¿Ÿç‹€æ³
edible adj. å¯é£Ÿç”¨çš„ï¼›é©åˆåƒçš„
elaborate v. è©³è¿°ï¼›è©³ç´°èªªæ˜
elastic adj. æœ‰å½ˆæ€§çš„ï¼›å¯ä¼¸ç¸®çš„
elegant adj. é«˜é›…çš„ï¼›å„ªç¾çš„
elevator n. é›»æ¢¯
eliminate v. æ¶ˆé™¤ï¼›æ¶ˆæ»…
embassy n. å¤§ä½¿é¤¨
emerge v. å‡ºç¾ï¼›æµ®ç¾
emergency n. ç·Šæ€¥æƒ…æ³
emperor n. çš‡å¸
enable v. ä½¿æˆç‚ºå¯èƒ½ï¼›ä½¿èƒ½å¤ 
encounter n. é­é‡ï¼›é‡åˆ°
engage v. ä½”ç”¨ï¼ˆæ™‚é–“ã€ç²¾åŠ›ç­‰ï¼‰ï¼›ä½¿è¨‚å©š
enhance v. æé«˜ï¼›å¢åŠ 
enlarge v. æ“´å¤§ï¼›æ”¾å¤§ï¼ˆç…§ç‰‡ï¼‰
enormous adj. å·¨å¤§çš„ï¼›é¾å¤§çš„
enroll v. ç™»è¨˜ï¼›è¨»å†Š
enterprise n. ä¼æ¥­ï¼›äº‹æ¥­å¿ƒ
entertainment n. å¨›æ¨‚ï¼›æ¶ˆé£
enthusiastic adj. ç†±æƒ…çš„ï¼›ç†±å¿ƒçš„
era n. æ™‚ä»£ï¼›ç´€å…ƒ
erect v. å»ºç«‹ï¼›ä½¿ç›´ç«‹
errand n. å·®äº‹ï¼›å·®ä½¿
escalator n. é›»æ‰¶æ¢¯
essential adj. ä¸å¯æˆ–ç¼ºçš„ï¼›æ¥µå…¶é‡è¦çš„
estimate v. ä¼°è¨ˆï¼›ä¼°é‡
evolution n. æ¼”åŒ–ï¼›é€²åŒ–ï¼›ç™¼å±•
escape v. é€ƒè„«ï¼›é€ƒè·‘
essay n. æ•£æ–‡ï¼›æ–‡ç« 
establish v. å»ºç«‹ï¼›è¨­ç«‹ï¼›å‰µè¾¦
etc. = et cetera adv. ç­‰ç­‰
evaluate v. å°â€¦â€¦è©•åƒ¹ï¼›è©•ä¼°
eventually adv. æœ€å¾Œï¼›çµ‚æ–¼
evidence n. è­‰æ“š
exaggerate v. èª‡å¼µï¼›è¨€éå…¶å¯¦
exceptional adj. éå‡¡çš„ï¼›å“è¶Šçš„
exchange v. äº¤æ›ï¼›å…Œæ›
exclaim v. å‘¼å–Šï¼›é©šå«
executive n. é«˜éšä¸»ç®¡
exhaust v. ä½¿ç²¾ç–²åŠ›ç›¡ï¼›è€—ç›¡
exhibition n. å±•è¦½ï¼›å±•è¦½æœƒ
existence n. å­˜åœ¨ï¼›ç”Ÿå­˜
expansion n. æ“´å±•ï¼›è†¨è„¹
expense n. èŠ±è²»ï¼›é–‹æ”¯
experiment n. å¯¦é©—ï¼›è©¦é©—
explode v. ä½¿çˆ†ç‚¸ï¼›çˆ†ç™¼
exploit v. å‰å‰Šï¼›åˆ©ç”¨ï¼›é–‹ç™¼
explore v. æ¢éšªï¼›æ¢ç©¶
explosion n. çˆ†ç‚¸ï¼›çˆ†ç™¼
expose v. ä½¿æ¥è§¸åˆ°ï¼›ä½¿æš´éœ²æ–¼
expression n. è¡¨æƒ…ï¼›è‡‰è‰²
extend v. å»¶é•·ï¼›æ“´å¤§ï¼›å»¶ä¼¸
extinct adj. çµ•ç¨®çš„ï¼›ï¼ˆç«ï¼‰ç†„æ»…çš„
extraordinary adj. é›¢å¥‡çš„ï¼›ç‰¹åˆ¥çš„
extremely adv. æ¥µç«¯åœ°ï¼›éå¸¸åœ°
eyebrow n. çœ‰æ¯›
eyesight n. è¦–åŠ›
fable n. å¯“è¨€ï¼›å‚³èªª
facility n. è¨­å‚™ï¼›è¨­æ–½
fade v. è¤ªè‰²ï¼›å‡‹è¬
faint v. æ˜å€’ï¼›æ˜å¥
faith n. ä¿¡ä»»ï¼›ä¿¡å¿ƒï¼›ä¿¡ä»°
faithful adj. å¿ å¯¦çš„
fake adj. å‡çš„ï¼›å†’å……çš„
familiar adj. ç†Ÿæ‚‰çš„ï¼›å¸¸è¦‹çš„
fantasy n. å¹»æƒ³ï¼›ç©ºæƒ³
farewell n. å†æœƒï¼›é“åˆ¥
fascinate v. å¼·çƒˆåœ°å¸å¼•ï¼›ä½¿ç¥é­‚é¡›å€’
fatal adj. è‡´å‘½çš„ï¼›ç„¡å¯æŒ½å›çš„
fate n. å‘½é‹
fiction n. å°èªªï¼›è™›æ§‹
fierce adj. å…‡æš´çš„ï¼›çŒ›çƒˆçš„
finance n. è²¡æºï¼›è²¡æ”¿
flame n. ç«ç„°
flee v. é€ƒé€¸
flexible adj. å¯è®Šé€šçš„ï¼›æœ‰å½ˆæ€§çš„
fluent adj. æµåˆ©çš„ï¼›æµæš¢çš„
foggy adj. å¤šéœ§çš„
forbid v. ç¦æ­¢ï¼›ä¸å…è¨±
forecast n. é æ¸¬ï¼›é å ±
formula n. å…¬å¼ï¼›è™•æ–¹
fortunately adv. å¹¸é‹åœ°ï¼›åƒ¥å€–åœ°
foundation n. åŸºç¤ï¼›åŸºåœ°ï¼›åŸºé‡‘æœƒ
frequent adj. å±¢æ¬¡çš„ï¼›é »ç¹çš„
frustrate v. æŒ«æŠ˜ï¼›ä½¿æ„Ÿåˆ°ç°å¿ƒ
fundamental adj. åŸºç¤çš„ï¼›æ ¹æœ¬çš„
furthermore adv. è€Œä¸”ï¼›å†è€…
gallery n. ç•«å»Šï¼›ç¾è¡“é¤¨
gamble v. è³­åšï¼›æŠ•æ©Ÿ
gangster n. å¹«æ´¾ï¼›åŒªå¾’
gap n. é–“éš”ï¼›ç¼ºå£
gene n. åŸºå› 
generosity n. æ…·æ…¨ï¼›å¯¬å®¹
genuine adj. çœŸæ­£çš„ï¼›çœŸèª çš„
gigantic adj. å·¨å¤§çš„ï¼›é¾å¤§çš„
giggle v. å‚»ç¬‘ï¼›å’¯å’¯åœ°ç¬‘
glance v. ç¥è¦–ï¼›åŒ†åŒ†çœ‹ä¸€çœ¼
glide v. æ»‘è¡Œï¼›æ»‘å‹•
global adj. å…¨çƒçš„ï¼›å…¨ä¸–ç•Œçš„
glorious adj. éå¸¸å®œäººçš„ï¼›å…‰æ¦®çš„
glow v. ç™¼äº®ï¼›ç™¼å…‰
goddess n. å¥³ç¥ï¼›å—å°Šå´‡çš„å¥³å­
gossip n. æµè¨€èœšèªï¼›é–’è©±
grab v. æŠ“ä½ï¼›æ”«å–
gracious adj. å’Œè—¹çš„ï¼›è¦ªåˆ‡çš„
gradually adv. é€æ­¥åœ°ï¼›æ¼¸æ¼¸åœ°
graduation n. ç•¢æ¥­ï¼ˆå…¸ç¦®ï¼‰
grasp v. æŠ“ç‰¢ï¼›æŠ“ç·Š
gratitude n. æ„Ÿæ¿€ä¹‹æƒ…ï¼›æ„Ÿè¬
gravity n. åœ°å¿ƒå¼•åŠ›ï¼›é‡åŠ›
greasy adj. æ²¹è†©çš„ï¼›å«è„‚è‚ªçš„
grieve v. æ‚²å‚·ï¼›æ†‚å‚·
grocery n. é£Ÿå“é›œè²¨ï¼ˆåº—ï¼‰
guarantee v. ä¿è­‰ï¼›æ“”ä¿
guardian n. ç›£è­·äººï¼›ä¿è­·äºº
guidance n. æŒ‡å°ï¼›å¼•å°
guilty adj. æœ‰ç½ªçš„ï¼›çŠ¯ç½ªçš„
hairdresser n. ç†é«®å¸«ï¼›ç¾é«®å¸«
handicap n. éšœç¤™ï¼›ä¸åˆ©æ¢ä»¶
harbor n. æ¸¯ç£ï¼›æ¸¯å£
harmful adj. æœ‰å®³çš„
harmony n. å’Œè«§ï¼›å”èª¿
harsh adj. åš´å²çš„ï¼›åˆºè€³çš„
harvest n. æ”¶ç©«ï¼›æ”¶æˆ
hassle n. éº»ç…©ï¼›çˆ­è¾¯
hasty adj. æ€¥é€Ÿçš„ï¼›è¼•ç‡çš„
hatred n. æ‡·æ¨ï¼›å­æƒ¡
heal v. æ²»ç™’ï¼›ä½¿æ¢å¾©å¥åº·
heaven n. å¤©å ‚
hence adv. å¾æ­¤ï¼›å› æ­¤
herd n. ç¾¤
heroine n. å¥³è‹±é›„ï¼›å¥³ä¸»è§’
hesitate v. èºŠèº‡ï¼›çŒ¶è±«ï¼›é²ç–‘ä¸æ±º
hint n. æš—ç¤º
honeymoon n. èœœæœˆ
honorable adj. å¯æ•¬çš„ï¼›é«˜å°šçš„ï¼›æ¦®è­½çš„
horizon n. åœ°å¹³ç·šï¼›çœ¼ç•Œ
horn n. å–‡å­ï¼›è§’
hose n. è»Ÿç®¡ï¼›è† ç®¡
hostage n. äººè³ª
housekeeper n. ç®¡å®¶
hug v. æ“æŠ±
humanity n. äººæ€§ï¼›ä»æ…ˆ
humidity n. æº¼æ°£ï¼›æº¼åº¦
hurricane n. é¢¶é¢¨
hush v. ï¼ˆä½¿ï¼‰å®‰éœä¸‹ä¾†
hydrogen n. æ°«
ideal adj. ç†æƒ³çš„ï¼›å®Œç¾çš„
identical adj. ä¸€æ¨¡ä¸€æ¨£çš„ï¼›å®Œå…¨ç›¸åŒçš„
idiom n. æ…£ç”¨èªï¼›æˆèª
idle v. éŠæ‰‹å¥½é–’ï¼›è™›åº¦ï¼ˆå…‰é™°ï¼‰
idol n. å¶åƒ
ignorant adj. ç„¡çŸ¥çš„ï¼›ä¸çŸ¥é“çš„
illegal adj. ä¸åˆæ³•çš„ï¼›éæ³•çš„
illness n. ç—…ï¼›ç–¾ç—…
illustrate v. æ’åœ–æ–¼ï¼›èªªæ˜
imitate v. æ¨¡ä»¿
immediately adv. ç«‹åˆ»ï¼›é¦¬ä¸Š
immigration n. ç§»æ°‘ï¼›ç§»å±…å…¥å¢ƒ
impact n. è¡æ“ŠåŠ›ï¼›å½±éŸ¿
impatient adj. ä¸è€ç…©ï¼›æ²’è€å¿ƒ
imperial adj. å¸åœ‹çš„
impersonal adj. æ²’æœ‰äººæƒ…å‘³çš„ï¼›ä¸ç‰¹æŒ‡æŸå€‹äººçš„
implement v. å¯¦æ–½ï¼›åŸ·è¡Œ
implication n. å«æ„ï¼›æš—ç¤º
impose v. ä½¿è² æ“”ï¼›å°‡â€¦â€¦å¼·åŠ æ–¼ï¼›æ‰“æ“¾
impressive adj. ä»¤äººå°è±¡æ·±åˆ»çš„ï¼›æ„Ÿäººçš„
improvement n. æ”¹é€²ï¼›æ”¹å–„
inadequate adj. ä¸è¶³çš„ï¼›ä¸é©ç•¶çš„
incident n. äº‹ä»¶ï¼›æ’æ›²
inconvenient adj. ä¸æ–¹ä¾¿çš„ï¼›é€ æˆéº»ç…©çš„
indeed adv. ç•¶ç„¶ï¼›ç¢ºå¯¦
industrial adj. å·¥æ¥­çš„ï¼›ç”¢æ¥­çš„
inevitable adj. ä¸å¯é¿å…çš„ï¼›å¿…ç„¶ç™¼ç”Ÿçš„
inform v. é€šçŸ¥ï¼›å‘ŠçŸ¥
ingredient n. çµ„æˆéƒ¨åˆ†ï¼›é…æ–™
initial adj. æœ€åˆçš„ï¼›é–‹å§‹çš„
infant n. å¬°å…’
infect v. å‚³æŸ“ï¼›æ„ŸæŸ“
inference n. è«–æ–·ï¼›æ¨æ–·
inferior adj. ä½åŠ£çš„ï¼›ä¸‹ç­‰çš„
inflation n. é€šè²¨è†¨è„¹
inhabitant n. å±…æ°‘ï¼›ï¼ˆæŸåœ°å€ï¼‰æ£²æ¯çš„å‹•ç‰©
inner adj. å…§éƒ¨çš„ï¼›è£¡é¢çš„
innocent adj. æ¸…ç™½çš„ï¼›ç„¡ç½ªçš„
inquiry n. è©¢å•ï¼›æ‰“è½
insert v. æ’å…¥ï¼›åµŒå…¥
inspector n. æª¢æŸ¥å“¡ï¼›å·¡å®˜
inspiration n. éˆæ„Ÿ
install v. å®‰è£ï¼›å®‰ç½®
instinct n. æœ¬èƒ½ï¼›å¤©æ€§
institution n. æ©Ÿæ§‹ï¼›åˆ¶åº¦
instruction n. ç”¨æ³•èªªæ˜ï¼›æ“ä½œæ‰‹å†Š
intensify v. å¢å¼·ï¼›è®Šæ¿€çƒˆ
interference n. ä»‹å…¥ï¼›å¹²æ¶‰ï¼›å¹²é 
intermediate adj. ä¸­ç­‰ç¨‹åº¦çš„ï¼›ä¸­ç´šçš„
interpretation n. è§£é‡‹ï¼›è©®é‡‹
introduction n. ä»‹ç´¹ï¼›å¼•é€²
intrude v. ä¾µå…¥ï¼›é—–å…¥
invade v. å…¥ä¾µï¼›ä¾µç•¥
investment n. æŠ•è³‡
invisible adj. çœ‹ä¸è¦‹çš„ï¼›ç„¡å½¢çš„
irregular adj. ä¸è¦å‰‡çš„
isolation n. éš”é›¢ï¼›å­¤ç«‹
issue n. ç™¼è¡Œç‰©ï¼›æœŸè™Ÿ
itch v. ç™¼ç™¢
ivory n. è±¡ç‰™ï¼›ä¹³ç™½è‰²
jail n. ç›£ç„
jam v. å µä½ï¼›å¡ä½
jar n. ç½å­
jaw n. ä¸‹é¡ï¼›ä¸‹å·´ï¼›ä¸‹é ·
jealousy n. å¦’å¿Œï¼›çŒœå¿Œ
jelly n. æœå‡ï¼›æœé†¬
jet n. å™´å°„æ©Ÿ
jewelry n. ç å¯¶ï¼›é¦–é£¾
journey n. æ—…ç¨‹ï¼›è¡Œç¨‹
joyful adj. é«˜èˆˆçš„ï¼›å–œæ‚…çš„
judgment n. åˆ¤æ–·ï¼›è£æ±ºï¼›è©•æ–·
jungle n. å¢æ—
junior n. å¤§ä¸‰ã€é«˜ä¸‰å­¸ç”Ÿï¼›å¹´å°‘è€…
junk n. å»¢æ£„ç‰©
jury n. é™ªå¯©åœ˜
justice n. æ­£ç¾©ï¼›å…¬å¹³
keen adj. ç†±å¿ƒçš„ï¼›ç†±è¡·çš„
keeper n. ç®¡ç†å“¡ï¼›é£¼é¤Šè€…
kettle n. å£ºï¼›é‹
keyboard n. éµç›¤ï¼›éµç›¤æ¨‚å™¨
kidnap v. ç¶æ¶
kidney n. è…è‡Ÿ
kindness n. ä»æ…ˆï¼›å’Œè—¹ï¼›å¥½æ„
kit n. æˆå¥—å·¥å…·ï¼›å°ç®±
kneel v. è·ªä¸‹ï¼›å±ˆè†
knight n. é¨å£«ï¼›çˆµå£«ï¼›æ­¦å£«
knit v. ç·¨ç¹”
knob n. æŠŠæ‰‹
knot n. ï¼ˆç¹©ç­‰çš„ï¼‰çµ
knowledgeable adj. åšå­¸çš„ï¼›æœ‰è¦‹è­˜çš„
label n. æ¨™ç±¤ï¼›æ¨™è¨˜
labor n. å‹å‹•ï¼›å‹å·¥ï¼›åˆ†å¨©
lag v. èµ°å¾—æ…¢ï¼›è½å¾Œ
landmark n. åœ°æ¨™ï¼›é‡Œç¨‹ç¢‘
landscape n. é¢¨æ™¯ï¼›æ™¯è‰²
lane n. è»Šé“ï¼›å°è·¯ï¼›å··å­
laser n. é›·å°„
launch v. ç™¼å°„ï¼›ä¸Šå¸‚ï¼›å°‡â€¦â€¦æŠ•å…¥å¸‚å ´
laundry n. è¦æ´—çš„è¡£æœï¼›æ´—è¡£åº—
lawn n. è‰åœ°ï¼›è‰åª
leak v. æ¼ï¼›æ´©æ¼
lean v. å€šé ï¼›å‚¾æ–œ
lecture n. è¬›åº§ï¼›æ¼”è¬›
legendary adj. å‚³èªªçš„ï¼›å‚³å¥‡çš„
leisure adj. ç©ºé–’çš„
liberty n. è‡ªç”±ï¼›è‡ªç”±æ¬Š
license n. è¨±å¯è­‰ï¼›åŸ·ç…§ï¼›ç‰Œç…§
limitation n. é™åˆ¶ï¼›ç•Œé™ï¼›ä¾·é™
literature n. æ–‡å­¸ä½œå“ï¼›æ–‡å­¸
litter n. å»¢æ£„ç‰©ï¼›åƒåœ¾
lobby n. å¤§å»³
location n. ä½ç½®ï¼›å ´æ‰€ï¼›åœ°é»
logic n. é‚è¼¯ï¼›é“ç†
loop n. ç’°ï¼›åœˆ
loosen v. è§£é–‹ï¼›é¬†é–‹
lotion n. ä¹³æ¶²ï¼›åŒ–å¦æ°´ï¼›è—¥æ°´
lousy adj. ç³Ÿé€çš„
loyalty n. å¿ èª ï¼›å¿ è²
lullaby n. æ–ç±ƒæ›²ï¼›å‚¬çœ æ›²
luxury n. å¥¢ä¾ˆå“ï¼›å¥¢è¯
machinery n. æ©Ÿå™¨ï¼›æ©Ÿæ¢°
magnetic adj. ç£éµçš„ï¼›æœ‰ç£æ€§
magnificent adj. å£¯éº—çš„ï¼›å®å‰çš„ï¼›æ¥µä½³çš„
mainly adv. ä¸»è¦åœ°ï¼›å¤§éƒ¨åˆ†åœ°
mansion n. å¤§å»ˆï¼›å¤§æ¨“
manual n. æ‰‹å†Š
manufacture v. è£½é€ 
marathon n. é¦¬æ‹‰æ¾è³½è·‘
marble n. å¤§ç†çŸ³
margin n. é é‚Šç©ºç™½ï¼›é‚Šç·£
masterpiece n. å‚‘ä½œï¼›åä½œ
mature adj. æˆç†Ÿçš„
mayor n. å¸‚é•·
meadow n. è‰åœ°
meantime n. å…¶é–“ï¼›èˆ‡æ­¤åŒæ™‚
medal n. çç« ï¼›ç´€å¿µç« ï¼›å‹³ç« 
melody n. æ—‹å¾‹ï¼›æ‚…è€³çš„è²éŸ³
memo n. å‚™å¿˜éŒ„ï¼›ä¾¿æ¢ï¼›è¦ç« 
memorial n. ç´€å¿µç¢‘ï¼›ç´€å¿µç‰©
memorize v. è¨˜ä½ï¼›èƒŒç†Ÿ
mend v. ä¿®ç†ï¼›ä¿®è£œï¼›é€æ¼¸åº·å¾©
mental adj. ç²¾ç¥çš„ï¼›å¿ƒç†çš„
mention v. æåˆ°ï¼›èªªèµ·
merchant n. å•†äºº
mercy n. æ†æ†«ï¼›å¯¬å®¹
merry adj. æ­¡æ¨‚çš„ï¼›æ„‰å¿«çš„
mess v. å¼„é«’ï¼›å¼„äº‚
metro n. åœ°éµ
mighty adj. å¼·è€Œæœ‰åŠ›çš„ï¼›å¼·å¤§çš„
mill n. ç£¨åŠï¼›éºµç²‰å» 
mere adj. åªä¸éï¼›åƒ…åƒ…
merit n. åƒ¹å€¼ï¼›å„ªé»
minimum adj. æœ€å°çš„ï¼›æœ€ä½çš„
minister n. ç‰§å¸«ï¼›ç¥è·äººå“¡ï¼›éƒ¨é•·
minority n. å°‘æ•¸
minute adj. å¾®å°çš„ï¼›ç‘£ç´°çš„
miracle n. å¥‡è¹Ÿï¼›é©šäººçš„äº‹ä¾‹
mischief n. æƒ¡ä½œåŠ‡ï¼›é ‘çš®ï¼›èƒ¡é¬§
miserable adj. æ‚²æ…˜çš„ï¼›ä¸å¹¸çš„ï¼›ç³Ÿç³•çš„
misleading adj. å¼•èµ·èª¤è§£çš„
missile n. é£›å½ˆ
mission n. ä»»å‹™ï¼›ä½¿å‘½
misunderstand v. èª¤æœƒï¼›æ›²è§£
mobile adj. æ˜“æ–¼ç§»å‹•çš„ï¼›å¯ç§»å‹•çš„
moderate adj. é©åº¦çš„ï¼›æœ‰ç¯€åˆ¶çš„
modest adj. è¬™è™›çš„ï¼›ç«¯èŠçš„
monument n. ç´€å¿µç¢‘ï¼›ç´€å¿µé¤¨
moonlight n. æœˆå…‰
moral n. æ•™è¨“ï¼›å¯“æ„
moreover adv. ä¸¦ä¸”ï¼›æ­¤å¤–
mortgage n. æŠµæŠ¼ï¼›æˆ¿è²¸
motivation n. åˆºæ¿€ï¼›å‹•æ©Ÿ
mug n. é¦¬å…‹æ¯
multiply v. ä½¿ç›¸ä¹˜ï¼›å¢åŠ ï¼›ç¹æ®–
murder v. è¬€æ®º
murmur v. ä½èªï¼›ä½è²èªªè©±
muscle n. è‚Œè‚‰
mustache n. é¬å­ï¼›é«­
mutual adj. å…±åŒçš„ï¼›äº’ç›¸çš„
mystery n. ç¥ç§˜çš„äº‹ï¼›é›£ä»¥ç†è§£çš„äº‹ç‰©
naked adj. è£¸é«”çš„
namely adv. å³ï¼›å°±æ˜¯
nap n. æ‰“ç›¹ï¼›åˆç¡
nasty adj. ä½¿äººä¸å¿«çš„ï¼›åš´é‡çš„
nationality n. åœ‹ç±
native adj. æœ¬åœ‹çš„ï¼›æœ¬åœŸçš„ï¼›åŸç”¢çš„
naturally adv. è‡ªç„¶åœ°ï¼›å¤©ç„¶åœ°
navy n. æµ·è»
nearby adj. é™„è¿‘çš„
neat adj. æ•´é½Šçš„ï¼›æ•´æ½”çš„
necessarily adv. å¿…å®šï¼›å¿…ç„¶åœ°
needy adj. è²§çª®çš„ï¼›éœ€æƒ…æ„Ÿæ”¯æŒçš„
neglect v. å¿½ç•¥ï¼›å¿½è¦–
negotiation n. è«‡åˆ¤ï¼›å”å•†
network v. æ‹“å±•äººè„ˆ
nevertheless adv. ç„¶è€Œï¼›å„˜ç®¡
newscaster n. æ–°èæ’­å ±å“¡
nickname n. ç¶½è™Ÿï¼›å°å
nightmare n. å¤¢é­˜ï¼›æƒ¡å¤¢
noble adj. é«˜å°šçš„ï¼›å´‡é«˜çš„
nonsense n. å»¢è©±ï¼›èƒ¡èªª
normal adj. æ­£å¸¸çš„ï¼›å¹³å¸¸çš„
normally adv. é€šå¸¸ï¼›æ­£å¸¸åœ°
nourish v. æ»‹é¤Šï¼›é¤Šè‚²
nowadays adv. ç¾ä»Šï¼›ç¾æ™‚
nowhere adv. åˆ°è™•éƒ½æ²’æœ‰ï¼›é ä¸åŠ
nuclear adj. åŸå­æ ¸çš„ï¼›æ ¸å¿ƒçš„
numerous adj. è¨±å¤šçš„ï¼›å¾ˆå¤šçš„
nun n. ä¿®å¥³ï¼›å°¼å§‘
nursery n. è‚²å¬°æˆ¿ï¼›æ‰˜å…’æ‰€
obedient adj. æœå¾çš„ï¼›é †å¾çš„
objection n. åå°ï¼›ç•°è­°
observation n. è§€å¯Ÿï¼›æ³¨æ„
obstacle n. éšœç¤™ï¼›å¦¨ç¤™
obtain v. ç²å¾—ï¼›å¾—åˆ°
obviously adv. æ˜é¡¯åœ°ï¼›é¡¯ç„¶åœ°
occasion n. å ´åˆï¼›æ™‚æ©Ÿ
occupation n. å·¥ä½œï¼›è·æ¥­
occupy v. ä½”ç”¨ï¼›ä½”é ˜ï¼›ä½”æ“š
offensive adj. å†’çŠ¯çš„ï¼›è¨å­çš„
opera n. æ­ŒåŠ‡
opponent n. å°æ‰‹ï¼›æ•µæ‰‹
opposition n. åå°ï¼›æ•µå°
option n. é¸æ“‡
oral adj. å£é ­çš„ï¼›å£è…”çš„
orbit v. ç¹è»Œé“é‹è¡Œ
orchestra n. ç®¡çµƒæ¨‚éšŠ
organ n. å™¨å®˜
origin n. èµ·æºï¼›ç”±ä¾†
orphan n. å­¤å…’
otherwise adv. å¦å‰‡ï¼›é™¤æ­¤ä¹‹å¤–
ought aux. æ‡‰è©²
outcome n. çµæœï¼›çµå±€
output n. è¼¸å‡ºï¼›ç”¢é‡
outstanding adj. å„ªç§€çš„ï¼›å‚‘å‡ºçš„
outward adv. å‘å¤–åœ°ï¼›å¾€å¤–åœ°
overcome v. å…‹æœï¼›æˆ°å‹
overlook v. å¿½ç•¥ï¼›çœ‹æ¼ï¼›ä¿¯ç°
owe v. æ¬ ï¼›æ­¸åŠŸæ–¼
oxygen n. æ°§æ°£
pace n. ä¸€æ­¥ï¼›æ­¥é€Ÿ
palace n. çš‡å®®ï¼›å®®æ®¿
palm n. æ‰‹æŒï¼›æ£•æ«šæ¨¹
panel n. é‘²æ¿ï¼›è¨è«–å°çµ„
panic v. ææ…Œï¼›é©šæ…Œ
parachute n. é™è½å‚˜
parade n. éŠè¡Œï¼›åˆ—éšŠè¡Œé€²
paradise n. å¤©å ‚ï¼›å¤©åœ‹
paragraph n. æ®µï¼›æ®µè½
parallel adj. å¹³è¡Œçš„ï¼›ä¸¦è¡Œçš„
partial adj. éƒ¨åˆ†çš„ï¼›åè¢’çš„
participate v. åƒåŠ ï¼›åƒèˆ‡
partnership n. åˆå¤¥é—œä¿‚ï¼›å…±åŒç¶“ç‡Ÿ
passion n. æ¿€æƒ…ï¼›å¼·çƒˆæ„›å¥½
passive adj. è¢«å‹•çš„ï¼›æ¶ˆæ¥µçš„
patience n. è€å¿ƒï¼›è€æ€§
pave v. é‹ªï¼›ç Œ
paw n. è…³çˆªï¼›çˆªå­
peak adj. é«˜å³°çš„ï¼›æœ€é«˜é»çš„
pebble n. åµçŸ³ï¼›ç¤«çŸ³
peculiar adj. å¥‡æ€ªçš„ï¼›ä¹–åƒ»çš„
penalty n. è™•ç½°ï¼›åˆ‘ç½°
percentage n. ç™¾åˆ†æ¯”ï¼›ç™¾åˆ†ç‡
perform v. æ¼”å‡ºï¼›è¡¨æ¼”
permanent adj. é•·ä¹…çš„ï¼›æ°¸ä¹…çš„
permission n. è¨±å¯ï¼›å‡†è¨±
personality n. å€‹æ€§ï¼›æ€§æ ¼
persuade v. èªªæœï¼›å‹¸æœ
plenty n. è±å¯Œï¼›å……è¶³ï¼›å¤§é‡
potential n. æ½›åŠ›ï¼›æ½›èƒ½
practical adj. å¯¦éš›çš„ï¼›å¯¦è¸çš„
precise adj. ç²¾ç¢ºçš„ï¼›ç²¾æº–çš„
predict v. é è¨€ï¼›é æ¸¬
pregnant adj. æ‡·å­•çš„ï¼›æ‡·èƒçš„
presentation n. ç°¡å ±ï¼›ç™¼è¡¨ï¼›å‘ˆç¾
prevent v. é˜²æ­¢ï¼›é é˜²
previous adj. ä»¥å‰çš„ï¼›ä¹‹å‰çš„
privacy n. éš±ç§ï¼›ç§ç”Ÿæ´»
privilege n. ç‰¹æ¬Šï¼›ç‰¹åˆ¥æ©æƒ 
profitable adj. æœ‰åˆ©çš„ï¼›æœ‰ç›Šçš„
protest n. æŠ—è­°ï¼›åå°
publish v. å‡ºç‰ˆï¼›åˆŠç™»
punch v. ç”¨æ‹³çŒ›æ“Š
punctual adj. æº–æ™‚çš„ï¼›æŒ‰æ™‚çš„
qualify v. å…·æœ‰è³‡æ ¼ï¼›å–å¾—è³‡æ ¼
quantity n. æ•¸é‡ï¼›é‡
quarrel n. çˆ­åµï¼›çˆ­è¾¯
quilt n. è¢«å­ï¼›è¢«è¤¥
quote n. å¼•ç”¨å¥ï¼›å¼•è¿°
rage v. ç™¼æ€’ï¼›å¤§ç™¼è„¾æ°£
rank v. å…·æœ‰â€¦â€¦ç­‰ç´šï¼›æ’åˆ—
rarely adv. å¾ˆå°‘ï¼›é›£å¾—
rate n. é€Ÿåº¦ï¼›é€Ÿç‡
react v. åæ‡‰
reality n. ç¾å¯¦ï¼›çœŸå¯¦
receipt n. æ”¶æ“š
recession n. ç¶“æ¿Ÿè¡°é€€ï¼›ä¸æ™¯æ°£
recipe n. é£Ÿè­œï¼›çƒ¹é£ªæ³•
recite v. èƒŒèª¦ï¼›è©³è¿°
recognize v. è¾¨èªå‡ºï¼›è­˜åˆ¥
recommend v. æ¨è–¦ï¼›ä»‹ç´¹
reference n. æåˆ°ï¼›è«‡èµ·
reflection n. æ˜ åƒï¼›åå°„
refugee n. é€ƒé›£è€…ï¼›é›£æ°‘
refusal n. æ‹’çµ•ï¼›è¬çµ•
register v. ç™»è¨˜ï¼›è¨»å†Š
regulation n. è¦å‰‡ï¼›æ³•ä»¤
rehearsal n. æ’ç·´ï¼›é æ¼”
related adj. æœ‰è¦ªæˆšé—œä¿‚çš„ï¼›ç›¸é—œçš„
relax v. æ”¾é¬†ï¼›ä½¿è¼•é¬†
release v. ç™¼è¡Œï¼›ç™¼ä½ˆï¼›é‡‹æ”¾
reliable adj. å¯é çš„ï¼›å¯ä¿¡è³´çš„
relieve v. æ¸›è¼•ï¼›ç·©å’Œ
reluctant adj. å‹‰å¼·çš„ï¼›ä¸æƒ…é¡˜çš„
remedy n. æ²»ç™‚æ³•ï¼›è£œæ•‘è¾¦æ³•
reminder n. æé†’äººè¨˜æ†¶ä¹‹ç‰©
repetition n. é‡è¤‡ï¼›åè¦†
representation n. æå¯«ï¼›è¡¨ç¾ï¼›ä»£è¡¨
requirement n. éœ€è¦ï¼›è¦æ±‚
research v. ç ”ç©¶ï¼›èª¿æŸ¥
reservation n. é ç´„ï¼›ä¿ç•™
resident n. å±…æ°‘ï¼›å±…ä½è€…
resource n. è³‡æºï¼›ç‰©è³‡
response n. å›ç­”ï¼›åæ‡‰
responsibility n. è²¬ä»»ï¼›è·è²¬
restless adj. éœä¸ä¸‹ä¾†çš„ï¼›ç…©èºçš„
restriction n. é™åˆ¶ï¼›ç´„æŸ
retain v. ä¿ç•™ï¼›ä¿æœ‰
retreat v. æ’¤é€€ï¼›é€€å»
reveal v. å±•ç¾ï¼›é¡¯éœ²
revenge n. å ±å¾©ï¼›å ±ä»‡
revolution n. é©å‘½
rhyme v. æŠ¼éŸ»ï¼›æˆéŸ»
ridiculous adj. å¯ç¬‘çš„ï¼›è’å”çš„
ripe adj. æˆç†Ÿçš„
roast adj. çƒ¤å¥½çš„ï¼›çƒ˜çƒ¤çš„
robbery n. æ¶åŠ«ï¼›æ¶å¥ª
rough adj. ç²—ç³™çš„ï¼›ä¸å¹³çš„
route n. è·¯ç·šï¼›è·¯ç¨‹
routine n. ä¾‹è¡Œå…¬äº‹ï¼›æ…£ä¾‹
rubbish n. åƒåœ¾ï¼›å»¢æ£„ç‰©
rumor n. è¬ è¨€ï¼›è¬ å‚³
rural adj. è¾²æ‘çš„ï¼›ç”°åœ’çš„
rusty adj. ç”Ÿé½çš„ï¼›è’å»¢çš„
sacrifice v. çŠ§ç‰²ï¼›ä¾›å¥‰
sadden v. ä½¿æ‚²å‚·ï¼›ä½¿é›£é
salary n. è–ªæ°´ï¼›è–ªè³‡
scan v. æƒæï¼›ç´°çœ‹ï¼›å¯©è¦–
scarce adj. ä¸è¶³çš„ï¼›ç¨€å°‘çš„
scary adj. å¯æ€•çš„ï¼›åš‡äººçš„
scenery n. é¢¨æ™¯ï¼›æ™¯è‰²
schedule n. é€²åº¦è¡¨ï¼›èª²ç¨‹è¡¨ï¼›è¡Œç¨‹è¡¨
scheme v. å¯†è¬€ï¼›ç­–åŠƒ
scientific adj. ç§‘å­¸çš„ï¼›ç§‘å­¸ä¸Šçš„
scold v. æ–¥è²¬ï¼›è²¬ç½µ
scoop n. ä¸€å‹ºï¼›æ“å­
scratch n. æŠ“ç—•ï¼›åˆ®æ“¦ç—•è·¡
scream v. å°–å«ï¼›é©šå«
screw n. èºçµ²é‡˜ï¼›èºæ—‹é«”
security n. ä¿å…¨ï¼›ä¿å®‰
sensitive adj. æ•æ„Ÿçš„ï¼›é«”æ¤åˆ¥äººçš„
settle v. å®‰é “ï¼›å®šå±…ï¼›æ±ºå®š
severe adj. åš´é‡çš„ï¼›åŠ‡çƒˆçš„
shadow n. é™°å½±ï¼›å½±å­
shallow adj. æ·ºçš„ï¼›è†šæ·ºçš„
shame n. æ†¾äº‹ï¼›ç¾æ¥å¿ƒ
shortcut n. æ·å¾‘ï¼›è¿‘è·¯
shuttle n. æ¥é§è»Šï¼›å¤ªç©ºæ¢­
sightseeing n. è§€å…‰ï¼›éŠè¦½
signature n. ç°½åï¼›ç°½å­—
significant adj. é‡è¦çš„ï¼›é‡å¤§çš„
singular adj. å–®æ•¸çš„
situation n. è™•å¢ƒï¼›æƒ…æ³
slang n. ä¿šèª
skip v. è¹¦è¹¦è·³è·³ï¼›è·³éï¼›ç•¥é
slave n. å¥´éš¸
slice n. è–„ç‰‡ï¼›åˆ‡ç‰‡
slightly adv. ç¨å¾®åœ°ï¼›è¼•å¾®åœ°
slogan n. å£è™Ÿï¼›æ¨™èª
smooth adj. å…‰æ»‘çš„ï¼›å¹³å¦çš„
sneeze v. æ‰“å™´åš
sob v. å—šå’½ï¼›å•œæ³£
somehow adv. ä»¥æŸç¨®æ–¹å¼ï¼›æœªçŸ¥ä½•æ•…
souvenir n. ç´€å¿µå“ï¼›ç´€å¿µç‰©
spade n. éŸå­ï¼›é¬
spare adj. å‚™ç”¨çš„ï¼›é¡å¤–çš„
sparkle n. é–ƒçˆï¼›é–ƒè€€
species n. ç¨®é¡ï¼›å“ç¨®
specific adj. ç‰¹æœ‰çš„ï¼›æ˜ç¢ºçš„
spiritual adj. ç²¾ç¥çš„ï¼›å¿ƒéˆçš„
spit v. åï¼ˆå”¾æ¶²ã€ç—°ç­‰ï¼‰
splendid adj. è¼ç…Œçš„ï¼›ç‡¦çˆ›çš„
split v. è£‚é–‹ï¼›å‡åˆ†
spoil v. ç³Ÿè¹‹ï¼›å¯µå£ï¼›æººæ„›
sprinkle v. æ·‹ï¼›ç‘
squeeze v. æ“ ï¼›å£“ï¼›æ“°
squirrel n. æ¾é¼ 
stadium n. é«”è‚²å ´ï¼›é‹å‹•å ´
stare v. ç›¯ï¼›å‡è¦–
starve v. é¤“æ­»ï¼›æŒ¨é¤“
status n. åœ°ä½ï¼›èº«åˆ†
steady adj. ç©©å›ºçš„ï¼›ç©©å®šçš„
stimulate v. ä¿ƒé€²ï¼›æ¿€ç™¼
strategy n. æˆ°ç•¥ï¼›ç­–ç•¥
strict adj. åš´å²çš„ï¼›åš´æ ¼çš„
stiff adj. ç¡¬çš„ï¼›åƒµç¡¬çš„
stitch n. ä¸€é‡ï¼›ç¸«ç·šï¼›é‡æ³•
stock n. å­˜è²¨ï¼›è‚¡ç¥¨
story n. å±¤ï¼›æ•…äº‹
strength n. åŠ›é‡ï¼›é«”åŠ›
strip v. å‰å…‰ï¼›é™¤å»
stubborn adj. é ‘å›ºçš„ï¼›å€”å¼·çš„
stuff n. æ±è¥¿ï¼›æ‰€æœ‰ç‰©
subtract v. æ¸›ï¼›æ¸›æ‰
suffering n. ç—›è‹¦ï¼›å›°é›£
sufficient adj. è¶³å¤ çš„ï¼›å……è¶³çš„
suggestion n. å»ºè­°ï¼›æè­°
suicide n. è‡ªæ®º
suitable adj. åˆé©çš„ï¼›åˆå®œçš„
summary n. ç¸½çµï¼›æ‘˜è¦
superior n. ä¸Šå¸ï¼›é•·å®˜
suppose v. çŒœæƒ³ï¼›æ–™æƒ³
supreme adj. è‡³é«˜çš„ï¼›è‡³ä¸Šçš„
surgery n. å¤–ç§‘æ‰‹è¡“
surroundings n. ç’°å¢ƒï¼›å‘¨åœäº‹ç‰©
survival n. ç”Ÿå­˜ï¼›æ®˜å­˜
survivor n. ç”Ÿé‚„è€…ï¼›å€–å­˜è€…
suspect v. æ‡·ç–‘ï¼›çŒœæƒ³
swear v. ç™¼èª“ï¼›æ–·è¨€
sweat v. å‡ºæ±—ï¼›å†’æ±—
switch v. æ‰“é–‹æˆ–é—œé–‰é–‹é—œ
syllable n. éŸ³ç¯€
sympathy n. åŒæƒ…å¿ƒï¼›åŒæƒ…
symptom n. ç—‡ç‹€ï¼›å¾µå…†
tale n. æ•…äº‹
tasty adj. å‘³é“å¥½çš„ï¼›ç¾å‘³çš„
tax n. ç¨…ï¼›è³¦ç¨…
tease v. æˆ²å¼„ï¼›é€—å¼„ï¼›æŒ‘é€—
technology n. ç§‘æŠ€ï¼›æ‡‰ç”¨ç§‘å­¸
temper n. è„¾æ°£ï¼›æ€§æƒ…
temporary adj. æš«æ™‚çš„ï¼›è‡¨æ™‚çš„
tendency n. å‚¾å‘ï¼›ç™–æ€§
tension n. ç·Šå¼µï¼›ç„¦æ…®
terminal n. èˆªç«™å¤§å»ˆï¼›çµ‚é»
territory n. é ˜åœŸï¼›é ˜åŸŸ
theme n. ä¸»é¡Œï¼›ä¸»æ—¨
tighten v. ä½¿è®Šç·Šï¼›ä½¿ç¹ƒç·Š
timid adj. è†½å°çš„ï¼›è†½æ€¯çš„
tissue n. è¡›ç”Ÿç´™ï¼›ç´°èƒçµ„ç¹”
tolerate v. å®¹å¿ï¼›å¯¬å®¹
tourist n. éŠå®¢ï¼›è§€å…‰å®¢
trademark n. å•†æ¨™ï¼›ç‰¹å¾µ
tragedy n. æ‚²åŠ‡ï¼›ç½é›£
transfer v. è½‰ç§»ï¼›èª¿å‹•ï¼›è½‰å¸³
transform v. æ”¹è®Šï¼›ä½¿è½‰åŒ–
translate v. ç¿»è­¯ï¼›è½‰åŒ–æˆâ€¦â€¦
transplant n. ç§»æ¤ï¼›ç§»å±…
tremendous adj. æ¥µåº¦çš„ï¼›é©šäººçš„
trend n. è¶¨å‹¢ï¼›æµè¡Œ
triumph n. å‹åˆ©ï¼›æˆåŠŸ
tropical adj. ç†±å¸¶çš„
tutor n. å®¶åº­æ•™å¸«ï¼›ç§äººæ•™å¸«
twinkle v. é–ƒçˆï¼›é–ƒè€€
typical adj. å…¸å‹çš„ï¼›æœ‰ä»£è¡¨æ€§çš„
unaware adj. æ²’æœ‰å¯Ÿè¦ºçš„ï¼›ä¸çŸ¥é“çš„
undertake v. æ‰¿æ“”ï¼›é€²è¡Œ
unexpected adj. çªå¦‚å…¶ä¾†çš„ï¼›æ„å¤–çš„
union n. å…¬æœƒï¼›è¯ç›Ÿ
unite v. è¯åˆï¼›åœ˜çµ
unless conj. å¦‚æœä¸â€¦â€¦ï¼›é™¤é
upset adj. éå¸¸é›£éï¼›æ†‚æ…®æˆ–ç”Ÿæ°£
upward adv. å‘ä¸Šï¼›å‡é«˜åœ°
urban adj. éƒ½å¸‚çš„ï¼›åŸå¸‚çš„
urgent adj. ç·Šæ€¥çš„ï¼›æ€¥åˆ‡çš„
usage n. æ…£ç”¨æ³•ï¼›ç”¨æ³•
vacant adj. ç©ºçš„ï¼›æœªè¢«ä½”ç”¨çš„
vague adj. æ¨¡ç³Šçš„ï¼›ä¸æ¸…æ¥šçš„
vain adj. è‡ªè² çš„ï¼›è‡ªè¦–éé«˜çš„ï¼›æ‰ç„¶çš„
van n. è²¨è»Šï¼›ç®±å‹è»Š
vanish v. æ¶ˆå¤±ï¼›çªç„¶ä¸è¦‹
variety n. è®ŠåŒ–ï¼›å„å¼å„æ¨£çš„äº‹ç‰©
vast adj. å»£å¤§çš„ï¼›å¤§é‡çš„
vegetarian n. ç´ é£Ÿè€…
venture n. æŠ•è³‡ï¼›å†’éšªäº‹æ¥­
version n. èªªæ³•ï¼›ç‰ˆæœ¬
vigorous adj. ç²¾åŠ›å……æ²›çš„ï¼›å……æ»¿æ´»åŠ›çš„
violate v. é•åï¼›ä¾µçŠ¯
violent adj. ç²—æš´çš„ï¼›ç‹‚æš´çš„
vision n. é è¦‹ï¼›è¦–åŠ›
vital adj. æ¥µå…¶é‡è¦çš„ï¼›é—œä¿‚é‡å¤§çš„
vivid adj. ç”Ÿå‹•çš„ï¼›é®®æ˜çš„
volcano n. ç«å±±
volunteer n. è‡ªé¡˜åƒåŠ è€…ï¼›ç¾©å·¥
voyage n. æ—…è¡Œï¼›èˆªè¡Œ
wage n. è–ªæ°´ï¼›å ±é…¬
wagon n. å››è¼ªé‹è²¨é¦¬è»Š
wander v. æ¼«éŠï¼›é–’é€›ï¼›å¾˜å¾Š
warning n. è­¦å‘Šï¼›é å…ˆé€šçŸ¥
wealth n. è²¡å¯Œï¼›éŒ¢è²¡
web n. ç¶²
weed n. é‡è‰ï¼›é›œè‰
weep v. å“­æ³£ï¼›æµæ·š
wheat n. å°éº¥
whisper v. ä½è²èªªå‡ºï¼›ç§ä¸‹èªª
whistle n. å“¨å­ï¼›å£å“¨è²
wicked adj. é‚ªæƒ¡çš„ï¼›æ¥µå£çš„
widespread adj. éåŠå„åœ°çš„ï¼›å»£æ³›çš„
wildlife n. é‡ç”Ÿç”Ÿç‰©
will n. éºå›‘ï¼›æ„å¿—åŠ›
wink v. çœ¨çœ¼ï¼›é–ƒçˆ
wipe v. æ“¦ï¼›æŠ¹
wire n. é›»ç·šï¼›é‡‘å±¬ç·š
wisdom n. æ™ºæ…§ï¼›æ‰æ™º
withdraw v. æ”¶å›ï¼›æ’¤é€€
wizard n. ç”·å·«ï¼›è¡“å£«
worm n. èŸ²
wrap v. åŒ…ï¼›è£¹
wreck v. æ’æ¯€ï¼›ç ´å£
wrinkle n. çšºç´‹ï¼›ç¸è¤¶
X-ray n. Xå…‰ç…§ç‰‡
yawn v. æ‰“å‘µæ¬ 
yell v. å¤§è²å–Šå«ï¼›å¤§è²èªª
youthful adj. æœæ°£è“¬å‹ƒçš„ï¼›å¹´è¼•çš„
zone n. å€åŸŸï¼›åœ°å¸¶
`;

        const parseData = () => {
          const lines = rawText.split('\n').filter(line => line.trim() !== '');
          const words = [];
          let idCounter = 1;

          lines.forEach(line => {
            const match = line.match(/^(.+?)\s+([a-z]+\.?)\s+(.+)$/);
            if (match) {
                words.push({
                    id: idCounter++,
                    english: match[1].trim(),
                    pos: match[2].trim(),
                    chinese: match[3].trim()
                });
            }
          });

          return words;
        };

        const getFirstMeaning = (chinese) => {
          return chinese.split('ï¼›')[0].replace(/ï¼ˆ.*?ï¼‰/g, ''); 
        };

        const getExampleSentenceData = (word) => {
          const w = word.english;
          const mean = getFirstMeaning(word.chinese);
          const pos = word.pos.toLowerCase();

          if (pos.startsWith('v')) {
            const templates = [
              { english: `I want to ${w} it.`, chinese: `æˆ‘æƒ³è¦${mean}å®ƒã€‚` },
              { english: `Did you ${w} that?`, chinese: `ä½ æœ‰${mean}é‚£å€‹å—ï¼Ÿ` },
              { english: `Please do not ${w}.`, chinese: `è«‹ä¸è¦${mean}ã€‚` },
              { english: `They decided to ${w}.`, chinese: `ä»–å€‘æ±ºå®š${mean}ã€‚` }
            ];
            return templates[word.id % templates.length];
          } else if (pos.startsWith('n')) {
            const templates = [
              { english: `This is a good ${w}.`, chinese: `é€™æ˜¯ä¸€å€‹å¥½çš„${mean}ã€‚` },
              { english: `I saw a ${w} there.`, chinese: `æˆ‘åœ¨é‚£è£¡çœ‹åˆ°ä¸€å€‹${mean}ã€‚` },
              { english: `The ${w} is very important.`, chinese: `é€™å€‹${mean}å¾ˆé‡è¦ã€‚` },
              { english: `He has a new ${w}.`, chinese: `ä»–æœ‰ä¸€å€‹æ–°çš„${mean}ã€‚` }
            ];
            return templates[word.id % templates.length];
          } else if (pos.startsWith('adj')) {
            const templates = [
              { english: `It looks very ${w}.`, chinese: `å®ƒçœ‹èµ·ä¾†éå¸¸${mean}ã€‚` },
              { english: `She is a ${w} person.`, chinese: `å¥¹æ˜¯ä¸€å€‹${mean}äººã€‚` },
              { english: `The result was ${w}.`, chinese: `çµæœæ˜¯${mean}ã€‚` },
              { english: `I feel quite ${w} today.`, chinese: `æˆ‘ä»Šå¤©è¦ºå¾—ç›¸ç•¶${mean}ã€‚` }
            ];
            return templates[word.id % templates.length];
          } else if (pos.startsWith('adv')) {
            const templates = [
              { english: `She did it ${w}.`, chinese: `å¥¹${mean}åšäº†é€™ä»¶äº‹ã€‚` },
              { english: `He spoke ${w}.`, chinese: `ä»–${mean}èªªè©±ã€‚` },
              { english: `It happened ${w}.`, chinese: `é€™ä»¶äº‹${mean}ç™¼ç”Ÿäº†ã€‚` }
            ];
            return templates[word.id % templates.length];
          } else {
            return { english: `The word is ${w}.`, chinese: `é€™å€‹å–®å­—æ˜¯${mean}ã€‚` };
          }
        };

        const getExampleSentence = (word) => {
          return getExampleSentenceData(word).english;
        };

        const WORD_LIST = parseData();
        const TOTAL_LESSONS = Math.ceil(WORD_LIST.length / 6);

        // --- COMPONENTS ---

        // Button
        const Button = ({ variant = 'primary', className, children, ...props }) => {
          const baseStyle = "px-6 py-2 rounded-lg font-medium transition-all shadow-sm active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed";
          
          const variants = {
            primary: "bg-blue-600 text-white hover:bg-blue-700",
            secondary: "bg-white text-gray-700 border border-gray-300 hover:bg-gray-50",
            danger: "bg-red-500 text-white hover:bg-red-600",
            success: "bg-green-600 text-white hover:bg-green-700"
          };

          return (
            <button className={`${baseStyle} ${variants[variant]} ${className || ''}`} {...props}>
                {children}
            </button>
          );
        };

        // WordCard
        const WordCard = ({ word, isFlipped, onFlip }) => {
          const playAudio = (e) => {
            e.stopPropagation();
            const utterance = new SpeechSynthesisUtterance(word.english);
            utterance.lang = 'en-US';
            window.speechSynthesis.speak(utterance);
          };

          return (
            <div className="w-full max-w-md h-80 cursor-pointer mb-6" onClick={onFlip}>
              <div className={`card-flip w-full h-full ${isFlipped ? 'flipped' : ''}`}>
                <div className="card-inner w-full h-full shadow-xl rounded-2xl bg-white border border-gray-100">
                  <div className="card-front">
                    <h2 className="text-4xl font-bold text-gray-800 mb-2">{word.english}</h2>
                    <span className="text-gray-500 italic mb-6">{word.pos}</span>
                    <Button variant="secondary" onClick={playAudio} className="rounded-full w-12 h-12 flex items-center justify-center p-0">
                       ğŸ”Š
                    </Button>
                    <p className="absolute bottom-4 text-gray-400 text-sm animate-pulse">é»æ“Šç¿»ç‰Œ</p>
                  </div>
                  <div className="card-back bg-blue-50 border-2 border-blue-100">
                    <h2 className="text-2xl font-bold text-blue-800 mb-2">{word.english}</h2>
                     <span className="text-blue-600 italic mb-4">{word.pos}</span>
                    <div className="w-16 h-1 bg-blue-200 rounded mb-4"></div>
                    <p className="text-3xl text-gray-800 font-medium px-4">{word.chinese}</p>
                  </div>
                </div>
              </div>
            </div>
          );
        };

        // QuestionCard
        const QuestionCard = ({ word, type, options, groupWords, onAnswer }) => {
          const [status, setStatus] = useState('idle');
          const [hint, setHint] = useState(false);
          const [input, setInput] = useState('');
          const inputRef = useRef(null);
          const [selectedOption, setSelectedOption] = useState(null);
          const [bubbleOptions, setBubbleOptions] = useState([]);
          const [targetSentence, setTargetSentence] = useState('');
          const [scramblePool, setScramblePool] = useState([]);
          const [scrambleSelected, setScrambleSelected] = useState([]);
          const [targetSentenceCh, setTargetSentenceCh] = useState('');
          const [matchCards, setMatchCards] = useState([]);
          const [matchSelection, setMatchSelection] = useState([]);
          const [matchesFound, setMatchesFound] = useState(0);

          useEffect(() => {
            resetState();
            if (type === TaskType.SPELL && inputRef.current) {
              inputRef.current.focus();
            }
            if (type === TaskType.SPELL || type === TaskType.CHOICE || type === TaskType.LEARN) {
               const timeout = setTimeout(() => { playAudio(); }, 300);
               return () => clearTimeout(timeout);
            }
            if (type === TaskType.ASSEMBLE) setupAssemble();
            else if (type === TaskType.SCRAMBLE) setupScramble();
            else if (type === TaskType.MATCH && groupWords) setupMatch();
          }, [word, type, groupWords]);

          const resetState = () => {
            setInput('');
            setSelectedOption(null);
            setStatus('idle');
            setHint(false);
            setScrambleSelected([]);
            setMatchSelection([]);
            setMatchesFound(0);
          };

          const setupAssemble = () => {
            const sentence = getExampleSentence(word);
            setTargetSentence(sentence);
            const distractors = options || [];
            const bubbles = [word.english, ...distractors.slice(0, 3)].sort(() => Math.random() - 0.5);
            setBubbleOptions(bubbles);
          };

          const setupScramble = () => {
            const { english, chinese } = getExampleSentenceData(word);
            setTargetSentence(english);
            setTargetSentenceCh(chinese);
            const rawParts = english.replace(/[.,?]/g, '').split(' ').filter(x => x);
            const commonDistractors = ['is', 'the', 'not', 'very', 'a', 'to', 'for', 'it', 'he', 'she', 'but', 'and', 'my', 'your'];
            const validSet = new Set(rawParts.map(p => p.toLowerCase()));
            const distractors = commonDistractors.filter(d => !validSet.has(d.toLowerCase())).sort(() => Math.random() - 0.5).slice(0, 2);
            const poolItems = [...rawParts, ...distractors].map((text, idx) => ({ id: `tile-${idx}-${Math.random()}`, text: text }));
            setScramblePool(poolItems.sort(() => Math.random() - 0.5));
          };

          const setupMatch = () => {
            if (!groupWords) return;
            const cards = [];
            groupWords.forEach(w => {
                cards.push({ id: `en-${w.id}`, content: w.english, type: 'en', wordId: w.id, isMatched: false });
                cards.push({ id: `ch-${w.id}`, content: w.chinese, type: 'ch', wordId: w.id, isMatched: false });
            });
            setMatchCards(cards.sort(() => Math.random() - 0.5));
          };

          const playAudio = () => {
            const utterance = new SpeechSynthesisUtterance(word.english);
            utterance.lang = 'en-US';
            utterance.rate = 0.9;
            window.speechSynthesis.speak(utterance);
          };

          const handleCorrect = () => {
            setStatus('correct');
            // Basic sound feedback
            setTimeout(() => onAnswer(true), 1000);
          };

          const handleWrong = (delay = 1500) => {
            setStatus('wrong');
            setTimeout(() => {
              setStatus('idle');
              if (type !== TaskType.MATCH) {
                  onAnswer(false);
              } else {
                  setMatchSelection([]);
              }
            }, delay);
          };

          const handleSubmitSpelling = (e) => {
            e?.preventDefault();
            if (status !== 'idle') return;
            if (input.trim().toLowerCase() === word.english.trim().toLowerCase()) handleCorrect();
            else handleWrong();
          };

          const handleOptionClick = (option) => {
            if (status !== 'idle') return;
            setSelectedOption(option);
            if (option === word.chinese) handleCorrect();
            else handleWrong();
          };

          const handleAssembleClick = (bubbleWord) => {
            if (status !== 'idle') return;
            setSelectedOption(bubbleWord);
            if (bubbleWord === word.english) handleCorrect();
            else handleWrong();
          };

          const handleScramblePoolClick = (item) => {
             if (status !== 'idle') return;
             setScramblePool(prev => prev.filter(i => i.id !== item.id));
             setScrambleSelected(prev => [...prev, item]);
          };

          const handleScrambleSelectedClick = (item) => {
             if (status !== 'idle') return;
             setScrambleSelected(prev => prev.filter(i => i.id !== item.id));
             setScramblePool(prev => [...prev, item]);
          };

          const checkScramble = () => {
              const normalize = (s) => s.replace(/[.,?!]/g, '').toLowerCase().split(' ').join('');
              const builtSentence = scrambleSelected.map(i => i.text).join(' ');
              if (normalize(builtSentence) === normalize(targetSentence)) handleCorrect();
              else handleWrong();
          };

          const handleMatchCardClick = (cardId) => {
              if (status === 'wrong' || status === 'correct') return;
              const clickedCard = matchCards.find(c => c.id === cardId);
              if (!clickedCard || clickedCard.isMatched) return;
              if (matchSelection.includes(cardId)) return;

              const newSelection = [...matchSelection, cardId];
              setMatchSelection(newSelection);

              if (newSelection.length === 2) {
                  const card1 = matchCards.find(c => c.id === newSelection[0]);
                  const card2 = matchCards.find(c => c.id === newSelection[1]);
                  
                  if (card1 && card2 && card1.wordId === card2.wordId) {
                      setTimeout(() => {
                          setMatchCards(prev => prev.map(c => 
                              (c.id === card1.id || c.id === card2.id) ? { ...c, isMatched: true } : c
                          ));
                          setMatchSelection([]);
                          setMatchesFound(prev => {
                              const newVal = prev + 1;
                              if (groupWords && newVal >= groupWords.length) handleCorrect();
                              return newVal;
                          });
                      }, 300);
                  } else {
                      setStatus('wrong');
                      setTimeout(() => {
                          setStatus('idle');
                          setMatchSelection([]);
                      }, 800);
                  }
              }
          };

          const renderHeader = () => {
             if (type === TaskType.MATCH) {
                 return (
                     <div className="bg-blue-600 p-6 text-white text-center">
                         <h2 className="text-xl font-bold">é…å°é€£é€£çœ‹</h2>
                         <p className="text-blue-200 text-sm">é»æ“Šå¡ç‰‡å°‡è‹±æ–‡èˆ‡ä¸­æ–‡é…å°</p>
                     </div>
                 )
             }
             return (
                <div className="bg-blue-600 p-8 text-white text-center flex flex-col items-center justify-center relative min-h-[160px]">
                    {(type === TaskType.SPELL || type === TaskType.CHOICE) && (
                        <button onClick={playAudio} className="absolute top-4 right-4 p-2 bg-blue-500 rounded-full hover:bg-blue-400 transition-colors">ğŸ”Š</button>
                    )}
                    {type === TaskType.SPELL && (
                    <>
                        <span className="text-blue-200 text-sm font-bold uppercase tracking-widest mb-2">æ‹¼å­—æ¸¬é©—</span>
                        <h2 className="text-2xl font-bold mb-4">{word.chinese}</h2>
                        <div className="text-blue-200 italic">{word.pos}</div>
                    </>
                    )}
                    {type === TaskType.CHOICE && (
                    <>
                        <span className="text-blue-200 text-sm font-bold uppercase tracking-widest mb-2">é¸æ“‡æ­£ç¢ºæ„æ€</span>
                        <h2 className="text-4xl font-bold mb-2">{word.english}</h2>
                        <div className="text-blue-200 italic">{word.pos}</div>
                    </>
                    )}
                    {(type === TaskType.ASSEMBLE || type === TaskType.SCRAMBLE) && (
                        <>
                        <span className="text-blue-200 text-sm font-bold uppercase tracking-widest mb-2">
                            {type === TaskType.ASSEMBLE ? 'å¡«ç©ºç·´ç¿’' : 'å¥å­é‡çµ„'}
                        </span>
                        <div className="w-16 h-16 bg-blue-400 rounded-full mb-2 flex items-center justify-center text-2xl">ğŸ‘©â€ğŸ«</div>
                        <div className="bg-white text-blue-900 px-4 py-2 rounded-xl text-lg font-bold shadow-sm relative">
                            {type === TaskType.ASSEMBLE ? `${word.chinese} (è«‹å¡«å…¥å–®å­—)` : targetSentenceCh || `è«‹é‡çµ„å¥å­`}
                            <div className="absolute w-0 h-0 border-l-[8px] border-l-transparent border-r-[8px] border-r-transparent border-b-[8px] border-b-white top-[-8px] left-1/2 -translate-x-1/2"></div>
                        </div>
                        </>
                    )}
                </div>
            );
          };

          return (
            <div className={`w-full max-w-md bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100 flex flex-col ${type === TaskType.MATCH ? 'min-h-[500px]' : 'min-h-[450px]'}`}>
              {renderHeader()}
              <div className="p-6 flex-1 flex flex-col justify-center">
                {type === TaskType.SPELL && (
                  <form onSubmit={handleSubmitSpelling} className="w-full">
                    <div className="relative">
                        <input ref={inputRef} type="text" value={input} onChange={(e) => setInput(e.target.value)} placeholder="è¼¸å…¥è‹±æ–‡å–®å­—..."
                          className={`w-full text-center text-2xl p-4 border-2 rounded-xl outline-none transition-all ${
                            status === 'wrong' ? 'border-red-500 bg-red-50' : 
                            status === 'correct' ? 'border-green-500 bg-green-50' : 
                            'border-gray-300 focus:border-blue-500 focus:ring-4 focus:ring-blue-100'
                          }`}
                          autoComplete="off" spellCheck="false"
                        />
                    </div>
                    <div className="mt-8 flex gap-3">
                      <Button type="button" variant="secondary" onClick={() => setHint(true)} className="flex-1 text-sm">ğŸ’¡ æç¤º</Button>
                      <Button type="submit" disabled={!input} className="flex-[2]">é€å‡º</Button>
                    </div>
                    {hint && <p className="text-center text-gray-400 mt-4 tracking-widest">{word.english.split('').map((c, i) => i % 2 === 0 ? c : '_').join(' ')}</p>}
                  </form>
                )}
                {type === TaskType.CHOICE && options && (
                  <div className="grid grid-cols-1 gap-3">
                    {options.map((opt, idx) => {
                      let btnStyle = "bg-gray-50 border-2 border-gray-100 text-gray-700 hover:border-blue-300 hover:bg-blue-50";
                      if (status !== 'idle') {
                        if (opt === word.chinese) btnStyle = "bg-green-100 border-green-500 text-green-800 font-bold";
                        else if (opt === selectedOption) btnStyle = "bg-red-100 border-red-500 text-red-800";
                        else btnStyle = "opacity-40";
                      }
                      return (
                        <button key={idx} onClick={() => handleOptionClick(opt)} disabled={status !== 'idle'} className={`p-4 rounded-xl text-left transition-all duration-200 ${btnStyle}`}>
                          {opt}
                        </button>
                      );
                    })}
                  </div>
                )}
                {type === TaskType.ASSEMBLE && (
                    <div className="flex flex-col h-full justify-between">
                        <div className="text-xl text-center text-gray-700 font-medium mb-8 leading-relaxed">
                           {targetSentence.split(word.english).map((part, i, arr) => (
                               <React.Fragment key={i}>
                                   {part}
                                   {i < arr.length - 1 && (
                                       <span className={`inline-block border-b-2 border-gray-400 px-2 min-w-[80px] text-center font-bold transition-all ${status === 'correct' ? 'text-green-600 border-green-500' : 'text-blue-600 border-blue-400'}`}>
                                           {selectedOption || '_______'}
                                       </span>
                                   )}
                               </React.Fragment>
                           ))}
                        </div>
                        <div className="flex flex-wrap gap-3 justify-center">
                            {bubbleOptions.map((opt, idx) => {
                                 let bubbleStyle = "bg-white border-2 border-gray-200 shadow-sm text-gray-600 hover:bg-gray-50 hover:border-gray-300 active:scale-95";
                                 if (status !== 'idle') {
                                    if (opt === word.english) bubbleStyle = "bg-green-100 border-green-500 text-green-800 shadow-none";
                                    else if (opt === selectedOption) bubbleStyle = "bg-red-100 border-red-500 text-red-800 shadow-none";
                                    else bubbleStyle = "opacity-20 pointer-events-none";
                                 }
                                return <button key={idx} onClick={() => handleAssembleClick(opt)} disabled={status !== 'idle'} className={`px-4 py-2 rounded-2xl text-lg font-medium transition-all ${bubbleStyle}`}>{opt}</button>;
                            })}
                        </div>
                    </div>
                )}
                {type === TaskType.SCRAMBLE && (
                    <div className="flex flex-col h-full justify-between">
                        <div className="min-h-[60px] border-b-2 border-gray-200 mb-6 flex flex-wrap gap-2 items-end pb-2 justify-center">
                            {scrambleSelected.map((item) => (
                                 <button key={item.id} onClick={() => handleScrambleSelectedClick(item)} className="bg-blue-100 text-blue-800 px-3 py-2 rounded-lg font-medium shadow-sm hover:bg-red-50 hover:text-red-500 transition-colors">
                                    {item.text}
                                 </button>
                            ))}
                        </div>
                        <div className="flex flex-wrap gap-3 justify-center mb-8">
                            {scramblePool.map((item) => (
                                <button key={item.id} onClick={() => handleScramblePoolClick(item)} className="bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-xl shadow-sm hover:bg-gray-50 active:scale-95 transition-all">
                                    {item.text}
                                </button>
                            ))}
                        </div>
                        <Button onClick={checkScramble} disabled={status !== 'idle'} className="w-full">æª¢æŸ¥</Button>
                    </div>
                )}
                {type === TaskType.MATCH && (
                    <div className="h-full">
                         <div className="grid grid-cols-3 gap-3 h-full">
                             {matchCards.map((card) => {
                                 const isSelected = matchSelection.includes(card.id);
                                 const isError = status === 'wrong' && isSelected;
                                 let style = "bg-white border-2 border-gray-200 text-gray-600";
                                 if (card.isMatched) style = "opacity-0 pointer-events-none"; 
                                 else if (isError) style = "bg-red-100 border-red-500 text-red-800 animate-pulse";
                                 else if (isSelected) style = "bg-blue-100 border-blue-500 text-blue-800 shadow-inner";
                                 else style += " hover:bg-gray-50 shadow-sm";
                                 return (
                                    <button key={card.id} onClick={() => handleMatchCardClick(card.id)} className={`rounded-xl p-2 flex items-center justify-center text-sm font-bold transition-all aspect-[4/3] ${style}`}>
                                        {card.content}
                                    </button>
                                 )
                             })}
                         </div>
                    </div>
                )}
              </div>
            </div>
          );
        };

        // CourseList
        const CourseList = ({ currentLessonIndex, lessonStats, onSelectLesson, onBack }) => {
          const lessons = Array.from({ length: TOTAL_LESSONS }, (_, i) => i);
          return (
            <div className="min-h-screen bg-gray-50 p-6">
              <div className="max-w-md mx-auto">
                <div className="flex items-center mb-6">
                    <button onClick={onBack} className="p-2 text-gray-500 hover:bg-gray-200 rounded-full mr-4">â†</button>
                    <h1 className="text-2xl font-bold text-gray-800">èª²ç¨‹åœ°åœ–</h1>
                </div>
                <div className="grid grid-cols-3 gap-4">
                    {lessons.map(idx => {
                        const stats = lessonStats[idx];
                        const stars = stats?.stars || 0;
                        return (
                            <button key={idx} onClick={() => onSelectLesson(idx)} className={`aspect-square flex flex-col items-center justify-center rounded-2xl shadow-sm border-b-4 active:border-b-0 active:translate-y-1 transition-all ${idx === currentLessonIndex ? 'bg-blue-500 border-blue-700 text-white' : 'bg-white border-gray-200 text-gray-600 hover:border-gray-300'}`}>
                                <span className="text-lg font-bold mb-1">{idx + 1}</span>
                                <div className="flex text-xs">{[1, 2, 3].map(s => <span key={s} className={s <= stars ? 'text-yellow-300' : 'text-gray-300'}>â˜…</span>)}</div>
                            </button>
                        )
                    })}
                </div>
              </div>
            </div>
          );
        };

        // Main App
        const STORAGE_KEY = 'voc_master_vanilla_v1';
        const getInitialProgress = () => {
          const saved = localStorage.getItem(STORAGE_KEY);
          if (saved) {
            try { return { currentLessonIndex: 0, completedWordIds: [], wordStats: {}, lessonStats: {}, lastStudyDate: Date.now(), totalXp: 0, dayStreak: 0, reminderEnabled: false, reminderTime: "20:00", ...JSON.parse(saved) }; } catch (e) {}
          }
          return { currentLessonIndex: 0, completedWordIds: [], wordStats: {}, lessonStats: {}, lastStudyDate: Date.now(), totalXp: 0, dayStreak: 0, reminderEnabled: false, reminderTime: "20:00" };
        };

        const App = () => {
            const [progress, setProgress] = useState(getInitialProgress());
            const [appState, setAppState] = useState(AppState.DASHBOARD);
            const [sessionMode, setSessionMode] = useState('LESSON');
            const [taskQueue, setTaskQueue] = useState([]);
            const [currentTaskIndex, setCurrentTaskIndex] = useState(0);
            const [combo, setCombo] = useState(0);
            const [sessionXpGained, setSessionXpGained] = useState(0);
            const [isFlipped, setIsFlipped] = useState(false);
            const [sessionErrors, setSessionErrors] = useState(0);

            useEffect(() => { localStorage.setItem(STORAGE_KEY, JSON.stringify(progress)); }, [progress]);

            useEffect(() => {
                if (progress.reminderEnabled && Notification.permission === 'default') Notification.requestPermission();
                const checkReminder = () => {
                    if (!progress.reminderEnabled) return;
                    const now = new Date();
                    const currentTime = `${String(now.getHours()).padStart(2, '0')}:${String(now.getMinutes()).padStart(2, '0')}`;
                    const lastNotified = localStorage.getItem('last_reminder_date');
                    const todayStr = now.toDateString();
                    if (currentTime === progress.reminderTime && lastNotified !== todayStr) {
                        if (Notification.permission === 'granted') {
                            new Notification("èƒŒå–®å­—æ™‚é–“åˆ°å›‰ï¼ğŸ“", { body: "æ¯å¤©åŠå°æ™‚ï¼Œç©å°‘æˆå¤šï¼" });
                            localStorage.setItem('last_reminder_date', todayStr);
                        }
                    }
                };
                const interval = setInterval(checkReminder, 15000);
                return () => clearInterval(interval);
            }, [progress.reminderEnabled, progress.reminderTime]);

            const getWordStats = (id) => progress.wordStats[id] || { wordId: id, box: 0, nextReviewDate: 0, consecutiveCorrect: 0 };
            const getNextReviewTime = (box) => {
                const now = Date.now();
                const daysToAdd = [1, 2, 4, 7, 14, 30][Math.min(box, 5)];
                return now + (daysToAdd * 24 * 60 * 60 * 1000);
            };
            const generateOptions = (correctWord, count = 3) => {
                const detractors = WORD_LIST.filter(w => w.id !== correctWord.id).sort(() => Math.random() - 0.5).slice(0, count);
                return [correctWord, ...detractors].sort(() => Math.random() - 0.5).map(w => w.chinese);
            };
            const generateDistractorWords = (correctWord) => {
                return WORD_LIST.filter(w => w.id !== correctWord.id).sort(() => Math.random() - 0.5).slice(0, 3).map(w => w.english);
            };

            const startSession = (specificLessonIndex) => {
                const tasks = [];
                let uniqueWordIdCounter = 0;
                const generateId = () => `task-${Date.now()}-${uniqueWordIdCounter++}`;
                const lessonIdx = specificLessonIndex !== undefined ? specificLessonIndex : progress.currentLessonIndex;
                const startIdx = lessonIdx * WORDS_PER_LESSON;
                const newWords = WORD_LIST.slice(startIdx, startIdx + WORDS_PER_LESSON);
                
                newWords.forEach(word => tasks.push({ id: generateId(), word, type: TaskType.LEARN }));
                newWords.forEach(word => tasks.push({ id: generateId(), word, type: TaskType.CHOICE }));
                newWords.forEach(word => tasks.push({ id: generateId(), word, type: TaskType.ASSEMBLE }));
                newWords.forEach(word => tasks.push({ id: generateId(), word, type: TaskType.SPELL }));
                const scrambleWords = [...newWords].sort(() => Math.random() - 0.5).slice(0, 3);
                scrambleWords.forEach(word => tasks.push({ id: generateId(), word, type: TaskType.SCRAMBLE }));

                const finalQueue = [
                    ...tasks.filter(t => t.type === TaskType.LEARN),
                    ...tasks.filter(t => t.type === TaskType.CHOICE).sort(() => Math.random() - 0.5),
                    ...tasks.filter(t => t.type === TaskType.ASSEMBLE).sort(() => Math.random() - 0.5),
                    ...tasks.filter(t => t.type === TaskType.SPELL).sort(() => Math.random() - 0.5),
                    ...tasks.filter(t => t.type === TaskType.SCRAMBLE).sort(() => Math.random() - 0.5),
                ];
                finalQueue.push({ id: generateId(), word: newWords[0], type: TaskType.MATCH, groupWords: newWords });

                setTaskQueue(finalQueue);
                setCurrentTaskIndex(0);
                setCombo(0);
                setSessionXpGained(0);
                setSessionErrors(0);
                setIsFlipped(false);
                setSessionMode('LESSON');
                if (specificLessonIndex !== undefined) setProgress(p => ({...p, currentLessonIndex: specificLessonIndex}));
                setAppState(AppState.SESSION);
            };

            const startReviewSession = () => {
                const now = Date.now();
                let uniqueWordIdCounter = 0;
                const generateId = () => `task-review-${Date.now()}-${uniqueWordIdCounter++}`;
                const candidateIds = new Set([...progress.completedWordIds, ...Object.keys(progress.wordStats).map(Number)]);
                if (candidateIds.size === 0) { alert("ç›®å‰é‚„æ²’æœ‰å­¸éçš„å–®å­—å¯ä»¥è¤‡ç¿’å–”ï¼"); return; }
                const candidates = WORD_LIST.filter(w => candidateIds.has(w.id));
                const sortedCandidates = candidates.sort((a, b) => {
                    const statsA = getWordStats(a.id);
                    const statsB = getWordStats(b.id);
                    const isDueA = statsA.nextReviewDate <= now;
                    const isDueB = statsB.nextReviewDate <= now;
                    if (isDueA && !isDueB) return -1;
                    if (!isDueA && isDueB) return 1;
                    return 0.5 - Math.random();
                });
                const sessionWords = sortedCandidates.slice(0, 12);
                const tasks = [];
                sessionWords.forEach(word => {
                    const stats = getWordStats(word.id);
                    if (stats.box <= 1) { tasks.push({ id: generateId(), word, type: TaskType.LEARN }); tasks.push({ id: generateId(), word, type: TaskType.ASSEMBLE }); }
                    else if (stats.box <= 3) { tasks.push({ id: generateId(), word, type: TaskType.SCRAMBLE }); tasks.push({ id: generateId(), word, type: TaskType.SPELL }); }
                    else { tasks.push({ id: generateId(), word, type: TaskType.SPELL }); }
                });
                if (sessionWords.length >= 6) { tasks.push({ id: generateId(), word: sessionWords[0], type: TaskType.MATCH, groupWords: sessionWords.slice(0, 6) }); }
                setTaskQueue(tasks);
                setCurrentTaskIndex(0);
                setCombo(0);
                setSessionXpGained(0);
                setSessionErrors(0);
                setIsFlipped(false);
                setSessionMode('REVIEW');
                setAppState(AppState.SESSION);
            };

            const handleTaskComplete = (success) => {
                const currentTask = taskQueue[currentTaskIndex];
                const wordId = currentTask.word.id;
                let xpGain = 0;
                if (success) {
                    setCombo(c => c + 1);
                    xpGain = 10 + (combo * 2);
                    if (!currentTask.isRetry && currentTask.type !== TaskType.MATCH) {
                        setProgress(prev => {
                            const oldStat = getWordStats(wordId);
                            let newBox = oldStat.box;
                            if (currentTask.type !== TaskType.LEARN) newBox = Math.min(newBox + 1, 5);
                            return { ...prev, wordStats: { ...prev.wordStats, [wordId]: { ...oldStat, box: newBox, consecutiveCorrect: oldStat.consecutiveCorrect + 1, nextReviewDate: getNextReviewTime(newBox) } } };
                        });
                    }
                } else {
                    setCombo(0);
                    setSessionErrors(e => e + 1);
                    if (currentTask.type !== TaskType.MATCH) {
                        setProgress(prev => {
                            const oldStat = getWordStats(wordId);
                            return { ...prev, wordStats: { ...prev.wordStats, [wordId]: { ...oldStat, box: 0, consecutiveCorrect: 0, nextReviewDate: Date.now() } } };
                        });
                        setTaskQueue(prev => {
                            const remaining = prev.slice(currentTaskIndex + 1);
                            const penaltyLearn = { id: `retry-learn-${Date.now()}`, word: currentTask.word, type: TaskType.LEARN, isRetry: true };
                            const retryType = currentTask.type === TaskType.SCRAMBLE ? TaskType.ASSEMBLE : currentTask.type;
                            const penaltyRetry = { id: `retry-action-${Date.now()}`, word: currentTask.word, type: retryType, isRetry: true };
                            const newQueue = [...remaining];
                            newQueue.splice(0, 0, penaltyLearn);
                            newQueue.splice(2, 0, penaltyRetry);
                            return [...prev.slice(0, currentTaskIndex + 1), ...newQueue];
                        });
                    }
                }
                setSessionXpGained(prev => prev + xpGain);
                if (currentTaskIndex < taskQueue.length - 1) { setCurrentTaskIndex(prev => prev + 1); setIsFlipped(false); }
                else { finishSession(); }
            };

            const finishSession = () => {
                const tasksCount = taskQueue.filter(t => !t.isRetry && t.type !== TaskType.LEARN).length;
                let stars = 1;
                if (sessionErrors === 0) stars = 3;
                else if (sessionErrors <= tasksCount * 0.1) stars = 2;

                setProgress(prev => {
                    const lastDate = new Date(prev.lastStudyDate);
                    const today = new Date();
                    const isSameDay = lastDate.getDate() === today.getDate() && lastDate.getMonth() === today.getMonth();
                    const isYesterday = (today.getTime() - lastDate.getTime()) < (48 * 60 * 60 * 1000) && !isSameDay;
                    let newStreak = prev.dayStreak;
                    if (isYesterday) newStreak += 1;
                    else if (!isSameDay) newStreak = 1;

                    let newLessonStats = { ...prev.lessonStats };
                    let newCompletedIds = [...prev.completedWordIds];
                    if (sessionMode === 'LESSON') {
                        const currentLessonStats = prev.lessonStats[prev.currentLessonIndex] || { lessonIndex: prev.currentLessonIndex, stars: 0, isCompleted: false };
                        newLessonStats[prev.currentLessonIndex] = { ...currentLessonStats, stars: Math.max(currentLessonStats.stars, stars), isCompleted: true };
                        const newWordIds = taskQueue.filter(t => t.type === TaskType.LEARN && !t.isRetry).map(t => t.word.id);
                        newCompletedIds = [...new Set([...newCompletedIds, ...newWordIds])];
                    }
                    return { ...prev, completedWordIds: newCompletedIds, lastStudyDate: Date.now(), totalXp: prev.totalXp + sessionXpGained, dayStreak: newStreak, lessonStats: newLessonStats };
                });
                setAppState(AppState.SUMMARY);
            };

            const renderDashboard = () => (
                <div className="flex flex-col items-center min-h-screen bg-gray-50 p-6 pb-20">
                  <div className="w-full max-w-lg space-y-6">
                    <div className="flex justify-between items-center mb-4">
                      <div><h1 className="text-3xl font-bold text-gray-800">Hi, å­¸ç¿’è€…</h1><p className="text-gray-500">æº–å‚™å¥½ä»Šå¤©çš„æŒ‘æˆ°äº†å—ï¼Ÿ</p></div>
                      <div className="flex items-center gap-3"><button onClick={() => setAppState(AppState.SETTINGS)} className="p-2 bg-white rounded-full shadow-sm text-gray-500 hover:text-blue-500 transition-colors">âš™ï¸</button><div className="text-right"><div className="text-2xl font-bold text-orange-500">ğŸ”¥ {progress.dayStreak}</div></div></div>
                    </div>
                    <div className="bg-white rounded-3xl p-6 shadow-md grid grid-cols-2 gap-4">
                        <div className="text-center p-4 bg-blue-50 rounded-2xl"><div className="text-3xl font-bold text-blue-600">{progress.totalXp}</div><div className="text-xs text-blue-400 font-bold uppercase tracking-wide">ç¸½ç¶“é©—å€¼ (XP)</div></div>
                        <div className="text-center p-4 bg-purple-50 rounded-2xl"><div className="text-3xl font-bold text-purple-600">{progress.completedWordIds.length}</div><div className="text-xs text-purple-400 font-bold uppercase tracking-wide">å·²ç²¾é€šå–®å­—</div></div>
                    </div>
                    <div className="grid grid-cols-1 gap-4">
                        <div className="bg-white rounded-3xl p-6 shadow-md relative overflow-hidden border-l-8 border-blue-500">
                             <div className="relative z-10"><div className="flex justify-between items-center mb-2"><h3 className="font-bold text-xl text-gray-800">ä¸»èª²ç¨‹é€²åº¦</h3><span className="bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-xs font-bold">Lesson {progress.currentLessonIndex + 1}</span></div><p className="text-gray-500 text-sm mb-6">åŒ…å« {WORDS_PER_LESSON} å€‹æ–°å–®å­—ã€‚</p><div className="flex gap-3"><Button onClick={() => startSession()} className="flex-1 shadow-blue-300 shadow-lg py-3">é–‹å§‹å­¸ç¿’</Button><Button variant="secondary" onClick={() => setAppState(AppState.COURSES)} className="px-4">åˆ‡æ›</Button></div></div>
                        </div>
                        <div className="bg-gradient-to-r from-orange-100 to-amber-50 rounded-3xl p-6 shadow-md relative overflow-hidden border border-orange-200">
                             <div className="relative z-10"><div className="flex justify-between items-center mb-2"><h3 className="font-bold text-xl text-orange-900">æ™ºèƒ½è¤‡ç¿’</h3><span className="bg-orange-200 text-orange-800 px-3 py-1 rounded-full text-xs font-bold">å¼·åŒ–è¨˜æ†¶</span></div><p className="text-orange-800/70 text-sm mb-6">é‡å°å¼±é»å–®å­—é€²è¡Œæ‹¼å­—èˆ‡é‡çµ„æ¸¬é©—ã€‚</p><Button onClick={startReviewSession} className="w-full bg-orange-500 hover:bg-orange-600 text-white shadow-orange-200 shadow-lg py-3">é–‹å§‹è¤‡ç¿’èˆŠå–®å­—</Button></div>
                        </div>
                    </div>
                  </div>
                </div>
            );

            const renderSettings = () => (
                <div className="min-h-screen bg-gray-50 p-6 flex flex-col items-center">
                    <div className="w-full max-w-md bg-white rounded-3xl p-6 shadow-md">
                        <div className="flex items-center mb-8"><button onClick={() => setAppState(AppState.DASHBOARD)} className="p-2 text-gray-500 hover:bg-gray-100 rounded-full mr-4">â†</button><h1 className="text-2xl font-bold text-gray-800">è¨­å®š</h1></div>
                        <div className="space-y-6">
                            <div className="flex justify-between items-center pb-4 border-b border-gray-100">
                                <div><h3 className="font-bold text-gray-800">æ¯æ—¥æé†’</h3><p className="text-sm text-gray-500">å›ºå®šæ™‚é–“æé†’æ‚¨èƒŒå–®å­—</p></div>
                                <div className="relative inline-block w-12 mr-2 align-middle select-none transition duration-200 ease-in"><input type="checkbox" checked={progress.reminderEnabled} onChange={(e) => { const enabled = e.target.checked; setProgress(p => ({...p, reminderEnabled: enabled})); if(enabled) Notification.requestPermission(); }} className="toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer checked:right-0 right-6" style={{right: progress.reminderEnabled ? '0' : 'auto', left: progress.reminderEnabled ? 'auto' : '0', border: '1px solid #e5e7eb'}} /><label className={`toggle-label block overflow-hidden h-6 rounded-full cursor-pointer ${progress.reminderEnabled ? 'bg-blue-500' : 'bg-gray-300'}`}></label></div>
                            </div>
                            {progress.reminderEnabled && (<div className="flex justify-between items-center animate-fade-in-down"><h3 className="font-bold text-gray-800">æé†’æ™‚é–“</h3><input type="time" value={progress.reminderTime} onChange={(e) => setProgress(p => ({...p, reminderTime: e.target.value}))} className="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5" /></div>)}
                            <div className="bg-blue-50 p-4 rounded-xl text-sm text-blue-800">ğŸ’¡ <span className="font-bold">å°æ’‡æ­¥ï¼š</span> å°‡æ­¤ç¶²é åŠ å…¥ä¸»ç•«é¢ (Add to Home Screen) ä¸¦ä¿æŒæ‰‹æ©Ÿé€šçŸ¥é–‹å•Ÿã€‚</div>
                        </div>
                    </div>
                </div>
            );

            const renderSession = () => {
                const currentTask = taskQueue[currentTaskIndex];
                if (!currentTask) return null;
                const progressPercent = ((currentTaskIndex) / taskQueue.length) * 100;
                return (
                    <div className="flex flex-col items-center min-h-screen bg-gray-100 p-4">
                        <div className="w-full max-w-md flex justify-between items-center mb-6 pt-4"><button onClick={() => setAppState(AppState.DASHBOARD)} className="text-gray-400 font-bold text-sm">âœ• é€€å‡º</button><div className="flex-1 mx-4 h-2 bg-gray-200 rounded-full overflow-hidden"><div className="h-full bg-blue-500 transition-all duration-300" style={{width: `${progressPercent}%`}}></div></div><div className="text-orange-500 font-bold text-sm">ğŸ”¥ {combo}</div></div>
                        <div className="w-full max-w-md flex-1 flex flex-col justify-center pb-20">
                            {currentTask.type === TaskType.LEARN ? (
                                <div className="flex flex-col items-center">
                                    <div className="mb-4 text-gray-500 font-medium tracking-wide text-sm uppercase">æ–°å–®å­—å­¸ç¿’</div>
                                    <WordCard word={currentTask.word} isFlipped={isFlipped} onFlip={() => setIsFlipped(true)} />
                                     <div className="mt-8 w-full"><Button onClick={() => handleTaskComplete(true)} className="w-full py-4 text-lg" disabled={!isFlipped}>æˆ‘è¨˜ä½äº†ï¼Œä¸‹ä¸€æ­¥</Button>{!isFlipped && <p className="text-center text-gray-400 text-xs mt-3">è«‹é»æ“Šå¡ç‰‡æŸ¥çœ‹è§£é‡‹èˆ‡ç™¼éŸ³</p>}</div>
                                </div>
                            ) : (
                                <QuestionCard key={currentTask.id} word={currentTask.word} type={currentTask.type} options={currentTask.type === TaskType.CHOICE ? generateOptions(currentTask.word) : generateDistractorWords(currentTask.word)} groupWords={currentTask.groupWords} onAnswer={handleTaskComplete} />
                            )}
                        </div>
                    </div>
                );
            };

            const renderSummary = () => (
                <div className="flex flex-col items-center justify-center min-h-screen p-6 bg-gradient-to-br from-blue-600 to-indigo-700 text-white">
                    <div className="bg-white/10 backdrop-blur-md border border-white/20 p-8 rounded-3xl max-w-sm w-full text-center shadow-2xl">
                        <div className="text-6xl mb-6">ğŸ‰</div>
                        <h2 className="text-3xl font-bold mb-2">{sessionMode === 'REVIEW' ? 'è¤‡ç¿’å®Œæˆï¼' : 'èª²ç¨‹å®Œæˆï¼'}</h2>
                        <div className="flex justify-center gap-1 mb-6 text-2xl text-yellow-300">{sessionErrors === 0 ? 'â˜…â˜…â˜…' : sessionErrors < 3 ? 'â˜…â˜…â˜†' : 'â˜…â˜†â˜†'}</div>
                        <div className="grid grid-cols-2 gap-4 mb-8"><div className="bg-white/20 rounded-2xl p-4"><div className="text-sm text-blue-200 mb-1">ç²å¾— XP</div><div className="text-3xl font-bold">+{sessionXpGained}</div></div><div className="bg-white/20 rounded-2xl p-4"><div className="text-sm text-blue-200 mb-1">éŒ¯èª¤æ¬¡æ•¸</div><div className="text-3xl font-bold">{sessionErrors}</div></div></div>
                        <Button onClick={() => setAppState(AppState.DASHBOARD)} variant="secondary" className="w-full py-4 text-blue-900 font-bold">è¿”å›é¦–é </Button>
                    </div>
                </div>
            );

            if (appState === AppState.SESSION) return renderSession();
            if (appState === AppState.SUMMARY) return renderSummary();
            if (appState === AppState.COURSES) return <CourseList currentLessonIndex={progress.currentLessonIndex} lessonStats={progress.lessonStats} onSelectLesson={(idx) => startSession(idx)} onBack={() => setAppState(AppState.DASHBOARD)} />;
            if (appState === AppState.SETTINGS) return renderSettings();
            return renderDashboard();
        };

        // Render
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);

    </script>
</body>
</html>